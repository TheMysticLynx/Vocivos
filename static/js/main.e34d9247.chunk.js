(this.webpackJsonpvocivos=this.webpackJsonpvocivos||[]).push([[0],{89:function(e,t,n){},93:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n.n(r),a=n(33),s=n.n(a),o=n(4),i=n(11),l=n(24);var u,d,b,j,p=n(6),x=n(2),m=n.n(x),h=n(5),f=n(3),O=n(12),v=n(48);!function(e){e.Startup="STARTUP"}(u||(u={})),function(e){e.Planet="PLANET",e.Moon="MOON",e.GasGiant="GAS_GIANT",e.Asteroid="ASTEROID",e.Wormhole="WORMHOLE",e.Nebula="NEBULA"}(d||(d={})),function(e){e.Chemicals="CHEMICALS",e.Construction="CONSTRUCTION_MATERIALS",e.Consumer="CONSUMER_GOODS",e.Electronics="ELECTRONICS",e.Food="FOOD",e.Fuel="FUEL",e.Machinery="MACHINERY",e.Metals="METALS",e.Research="RESEARCH",e.ShipParts="SHIP_PARTS",e.ShipPlating="SHIP_PLATING",e.Textiles="TEXTILES",e.Workers="WORKERS"}(b||(b={})),function(e){e.Current="CURRENT",e.Paid="PAID",e.PaidLate="PAID_LATE"}(j||(j={}));var g,y={user:{credits:0,loans:[],ships:[],username:void 0},account:{token:"",username:""},flightPlans:[],marketData:[],automations:[],systems:[]},w=Object(v.b)({name:"spacetraders",initialState:y,reducers:{reset:function(e){Object.assign(e,y)},setUser:function(e,t){var n=t.payload;e.user=n.user},setToken:function(e,t){var n=t.payload;e.account=n},setCredits:function(e,t){var n=t.payload;e.user.credits=n},updateLoans:function(e,t){var n=t.payload;e.user.loans=n},updateShip:function(e,t){var n=t.payload;Object.assign(e.user.ships.find((function(e){return e.id===n.id})),n)},updateShips:function(e,t){var n=t.payload;e.user.ships=n},addFlightPlan:function(e,t){var n=t.payload;e.flightPlans.push(n);var r=e.user.ships.find((function(e){return e.id===n.shipId}));if(r){r.location=void 0,r.flightPlanId=n.id,r.spaceAvailable+=n.fuelConsumed;var c=r.cargo.find((function(e){return e.good===b.Fuel}));c&&n.fuelRemaining>0?c.quantity=n.fuelRemaining:c&&0===n.fuelRemaining&&r.cargo.splice(r.cargo.findIndex((function(e){return e.good===b.Fuel})),1)}},removeFlightPlan:function(e,t){var n=t.payload;if(e.flightPlans.findIndex((function(e){return e.id===n.id}))>-1){e.flightPlans.splice(e.flightPlans.findIndex((function(e){return e.id===n.id})),1);var r=e.user.ships.find((function(e){return e.id===n.shipId}));r&&(r.location=n.destination,r.flightPlanId=void 0)}},updateMarketData:function(e,t){var n=t.payload;e.marketData.some((function(e){return e.planet.symbol===n.planet.symbol}))?e.marketData=e.marketData.map((function(e){return e.planet.symbol===n.planet.symbol?n:e})):e.marketData.push(n),localStorage.setItem("marketData",JSON.stringify(e.marketData))},addAutomation:function(e,t){var n=t.payload;-1!==e.automations.findIndex((function(e){return e.shipId===n.shipId}))&&e.automations.splice(e.automations.findIndex((function(e){return e.shipId===n.shipId})),1),e.automations.push(n)},setAutomationState:function(e,t){var n=t.payload,r=e.automations.find((function(e){return e.shipId===n.shipId}));r&&(r.enabled=n.enabled)},addAutomationError:function(e,t){var n=t.payload,r=e.automations.find((function(e){return e.shipId===n.shipId}));r&&(r.error=n.error)},setSystems:function(e,t){var n=t.payload;e.systems=n}}}),N=w.actions,k=N.setUser,C=N.setToken,S=N.setCredits,L=N.updateShip,E=N.addFlightPlan,I=N.removeFlightPlan,A=N.updateMarketData,P=N.addAutomation,B=N.setAutomationState,M=N.addAutomationError,z=N.reset,D=N.updateShips,F=N.setSystems,T=N.updateLoans,U=w.reducer,R=Object(v.a)({reducer:U,preloadedState:void 0}),W=n(56),q=n.n(W);!function(e){e.Get="get",e.Post="post",e.Put="put"}(g||(g={}));var V="https://api.spacetraders.io",G=new q.a({minTime:500,maxConcurrent:1}),H=function(e){return new Promise((function(t){return setTimeout(t,e)}))};function _(e,t,n){return J.apply(this,arguments)}function J(){return(J=Object(h.a)(m.a.mark((function e(t,n,r){var c,a,s,o,i,l,u=arguments;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=u.length>3&&void 0!==u[3]?u[3]:{},a=u.length>4&&void 0!==u[4]?u[4]:0,r!==g.Get){e.next=8;break}return e.next=5,G.schedule(Object(h.a)(m.a.mark((function e(){var c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t,{method:r,headers:{Authorization:"Bearer ".concat(n)}});case 2:return c=e.sent,e.abrupt("return",c);case 4:case"end":return e.stop()}}),e)}))));case 5:s=e.sent,e.next=11;break;case 8:return e.next=10,G.schedule(Object(h.a)(m.a.mark((function e(){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t,{method:r,headers:{Authorization:"Bearer ".concat(n),"Content-Type":"application/json"},body:JSON.stringify(c)});case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)}))));case 10:s=e.sent;case 11:if(!(429===s.status&&a<3)){e.next=17;break}return o=s.headers.get("retry-after"),i=o?1e3*parseInt(o,10):1e3,e.next=16,H(i);case 16:return e.abrupt("return",_(t,n,r,c,a+1));case 17:if(401!==s.status){e.next=19;break}throw new Error("Invalid username or token.");case 19:return e.next=21,s.json();case 21:if(l=e.sent,!(s.status>=400)){e.next=24;break}throw new Error(l.error.message);case 24:return e.abrupt("return",l);case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var K,Y=function(e){return Object(h.a)(m.a.mark((function t(){var n,r;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(V,"/users/").concat(e,"/token"),{method:g.Post});case 2:if(!((n=t.sent).status>=400)){t.next=5;break}throw new Error("Username already exists");case 5:return t.next=7,n.json();case 7:return r=t.sent,t.abrupt("return",r);case 9:case"end":return t.stop()}}),t)})))()},Q=function(e,t){return Object(h.a)(m.a.mark((function n(){var r;return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r="".concat(V,"/users/").concat(e),n.abrupt("return",_(r,t,g.Get));case 2:case"end":return n.stop()}}),n)})))()},X=function(e){return Object(h.a)(m.a.mark((function t(){var n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="".concat(V,"/game/loans"),t.abrupt("return",_(n,e,g.Get));case 2:case"end":return t.stop()}}),t)})))()},Z=function(e,t,n){return Object(h.a)(m.a.mark((function r(){var c;return m.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return c="".concat(V,"/users/").concat(e,"/loans"),r.abrupt("return",_(c,t,g.Post,{type:n}));case 2:case"end":return r.stop()}}),r)})))()},$=function(e,t,n){return Object(h.a)(m.a.mark((function r(){var c;return m.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return c="".concat(V,"/users/").concat(e,"/loans/").concat(n),r.abrupt("return",_(c,t,g.Put));case 2:case"end":return r.stop()}}),r)})))()},ee=function(e){var t=arguments;return Object(h.a)(m.a.mark((function n(){var r,c;return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.length>1&&void 0!==t[1]?t[1]:"",c="".concat(V,"/game/ships"),n.abrupt("return",_(c,e,g.Get,{class:r}));case 3:case"end":return n.stop()}}),n)})))()},te=function(e,t){return Object(h.a)(m.a.mark((function n(){var r;return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r="".concat(V,"/users/").concat(t,"/ships"),n.abrupt("return",_(r,e,g.Get));case 2:case"end":return n.stop()}}),n)})))()},ne=function(e,t,n,r){return Object(h.a)(m.a.mark((function c(){var a;return m.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return a="".concat(V,"/users/").concat(t,"/ships"),c.abrupt("return",_(a,e,g.Post,{location:n,type:r}));case 2:case"end":return c.stop()}}),c)})))()},re=function(e,t,n){return Object(h.a)(m.a.mark((function r(){var c;return m.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return c="".concat(V,"/users/").concat(t,"/ships/").concat(n),r.abrupt("return",_(c,e,g.Get));case 2:case"end":return r.stop()}}),r)})))()},ce=function(e){return Object(h.a)(m.a.mark((function t(){var n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="".concat(V,"/game/systems"),t.abrupt("return",_(n,e,g.Get));case 2:case"end":return t.stop()}}),t)})))()},ae=function(e,t){return Object(h.a)(m.a.mark((function n(){var r;return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r="".concat(V,"/game/systems/").concat(t,"/locations"),n.abrupt("return",_(r,e,g.Get));case 2:case"end":return n.stop()}}),n)})))()},se=function(e,t){return Object(h.a)(m.a.mark((function n(){var r;return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r="".concat(V,"/game/locations/").concat(t),n.abrupt("return",_(r,e,g.Get));case 2:case"end":return n.stop()}}),n)})))()},oe=function(e,t){return Object(h.a)(m.a.mark((function n(){var r;return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r="".concat(V,"/game/locations/").concat(t,"/marketplace"),n.abrupt("return",_(r,e,g.Get));case 2:case"end":return n.stop()}}),n)})))()},ie=function(e,t,n,r,c){return Object(h.a)(m.a.mark((function a(){var s;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return s="".concat(V,"/users/").concat(t,"/purchase-orders"),a.abrupt("return",_(s,e,g.Post,{shipId:n,good:r,quantity:c}));case 2:case"end":return a.stop()}}),a)})))()},le=function(e,t,n,r,c){return Object(h.a)(m.a.mark((function a(){var s;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return s="".concat(V,"/users/").concat(t,"/sell-orders"),a.abrupt("return",_(s,e,g.Post,{shipId:n,good:r,quantity:c}));case 2:case"end":return a.stop()}}),a)})))()},ue=function(e,t,n,r,c){return Object(h.a)(m.a.mark((function a(){var s;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return s="".concat(V,"/game/structures/").concat(t,"/deposit"),a.abrupt("return",_(s,e,g.Post,{shipId:n,good:r,quantity:c}));case 2:case"end":return a.stop()}}),a)})))()},de=function(e,t,n,r,c){return Object(h.a)(m.a.mark((function a(){var s;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return s="".concat(V,"/users/").concat(t,"/ships/").concat(n,"/jettison"),a.abrupt("return",_(s,e,g.Put,{good:r,quantity:c}));case 2:case"end":return a.stop()}}),a)})))()},be=function(e,t,n,r){return Object(h.a)(m.a.mark((function c(){var a;return m.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return a="".concat(V,"/users/").concat(t,"/flight-plans"),c.abrupt("return",_(a,e,g.Post,{shipId:n,destination:r}));case 2:case"end":return c.stop()}}),c)})))()},je=function(e,t,n){return Object(h.a)(m.a.mark((function r(){var c;return m.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return c="".concat(V,"/users/").concat(t,"/flight-plans/").concat(n),r.abrupt("return",_(c,e,g.Get));case 2:case"end":return r.stop()}}),r)})))()},pe=function(e,t,n){return Object(h.a)(m.a.mark((function r(){var c;return m.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return c="".concat(V,"/users/").concat(t,"/warp-jump"),r.abrupt("return",_(c,e,g.Post,{shipId:n}));case 2:case"end":return r.stop()}}),r)})))()},xe=(n(89),n(22)),me=n(0),he=function(){return Object(me.jsx)(xe.a,{speed:2,width:400,height:60,viewBox:"0 0 400 60",backgroundColor:"#D1D5DB",foregroundColor:"#ecebeb",children:Object(me.jsx)("rect",{x:"0",y:"0",rx:"0",ry:"0",width:"400",height:"44"})})},fe=function(){return Object(me.jsxs)(xe.a,{speed:2,width:400,height:60,viewBox:"0 0 400 60",backgroundColor:"#374151",foregroundColor:"#4B5563",children:[Object(me.jsx)("rect",{x:"0",y:"0",rx:"10",ry:"10",width:"200",height:"20"}),Object(me.jsx)("rect",{x:"0",y:"45",rx:"5",ry:"5",width:"100",height:"10"})]})},Oe=function(){return Object(me.jsx)(xe.a,{speed:2,width:200,height:20,viewBox:"0 0 200 20",backgroundColor:"#374151",foregroundColor:"#4B5563",children:Object(me.jsx)("rect",{x:"0",y:"0",rx:"10",ry:"10",width:"200",height:"20"})})},ve=function(){return Object(me.jsxs)(xe.a,{speed:2,width:300,height:200,viewBox:"0 0 300 200",backgroundColor:"#374151",foregroundColor:"#4B5563",children:[Object(me.jsx)("rect",{x:"0",y:"0",rx:"10",ry:"10",width:"100",height:"20"}),Object(me.jsx)("rect",{x:"0",y:"30",rx:"15",ry:"15",width:"250",height:"30"})]})},ge=function(){return Object(me.jsxs)(xe.a,{speed:2,width:398,height:100,viewBox:"0 0 398 100",backgroundColor:"#D1D5DB",foregroundColor:"#E5E7EB",children:[Object(me.jsx)("rect",{x:"0",y:"0",rx:"5",ry:"5",width:"398",height:"48"}),Object(me.jsx)("rect",{x:"0",y:"50",rx:"5",ry:"5",width:"398",height:"48"})]})},ye=function(){return Object(me.jsxs)("div",{className:"p-3 bg-gray-900 border border-gray-700 rounded",children:[Object(me.jsx)("div",{className:"flex justify-between items-center pb-2 border-b border-gray-700",children:Object(me.jsx)(xe.a,{speed:2,width:100,height:20,viewBox:"0 0 100 20",backgroundColor:"#9CA3AF",foregroundColor:"#D1D5DB",children:Object(me.jsx)("rect",{x:"0",y:"0",rx:"10",ry:"10",width:"100",height:"20"})})}),Object(me.jsx)("div",{className:"text-sm my-3",children:Object(me.jsxs)(xe.a,{speed:2,width:175,height:70,viewBox:"0 0 175 70",backgroundColor:"#9CA3AF",foregroundColor:"#D1D5DB",children:[Object(me.jsx)("rect",{x:"0",y:"0",rx:"7.5",ry:"7.5",width:"125",height:"15"}),Object(me.jsx)("rect",{x:"15",y:"25",rx:"7.5",ry:"7.5",width:"150",height:"15"}),Object(me.jsx)("rect",{x:"15",y:"50",rx:"7.5",ry:"7.5",width:"150",height:"15"})]})})]})},we=function(){var e=Object(o.c)((function(e){return e.user})),t=Object(o.c)((function(e){return e.account})).token,n=Object(r.useState)(!1),a=Object(f.a)(n,2),s=a[0],l=a[1],u=Object(r.useRef)(null),d=Object(o.b)();Object(r.useEffect)((function(){var e=function(e){null===u.current||u.current.contains(e.target)||l(!1)};return s&&window.addEventListener("mousedown",e),function(){window.removeEventListener("mousedown",e)}}),[s]);return Object(me.jsxs)("div",{className:"px-8 text-gray-50 w-full min-h-16 bg-gray-900 flex justify-between items-center",children:[Object(me.jsxs)("div",{className:"flex items-center",children:[Object(me.jsxs)("div",{className:"relative mr-1 pt-1",children:[Object(me.jsx)("button",{type:"button",className:"text-gray-50 hover:text-gray-300",onClick:function(){return l(!0)},children:Object(me.jsx)("svg",{className:"mt-1 h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:Object(me.jsx)("path",{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"})})}),s&&Object(me.jsx)("div",{ref:u,className:"origin-top-left absolute left-0 mt-2 w-72 rounded-sm shadow-lg text-gray-700 bg-gray-200 ring-1 ring-black ring-opacity-5 focus:outline-none",role:"menu","aria-orientation":"vertical","aria-labelledby":"options-menu",children:Object(me.jsxs)("div",{className:"py-1",role:"none",children:[Object(me.jsx)("p",{className:"text-gray-900 text-xs px-4 pt-2",children:"Token"}),Object(me.jsx)("p",{className:"text-xs px-4 pt-1",children:t}),Object(me.jsx)("button",{type:"button",className:"block w-full text-left px-4 py-2 mt-2 text-sm hover:bg-gray-300 hover:text-gray-900",role:"menuitem",onClick:function(){d(z()),localStorage.removeItem("apiKey")},children:"Log out"})]})})]}),void 0===e.username?Object(me.jsx)(Oe,{}):Object(me.jsxs)(c.a.Fragment,{children:[Object(me.jsx)("h1",{children:Object(me.jsx)(i.c,{to:"/",className:"hover:text-yellow-600",children:e.username})}),Object(me.jsxs)("span",{className:"text-xs text-gray-400 ml-4",children:[e.credits.toLocaleString()," credits"]})]})]}),Object(me.jsxs)("div",{className:"flex flex-row",children:[Object(me.jsx)(i.c,{to:"/ships",title:"ships",className:"w-7 h-7 mx-2 hover:text-yellow-600",children:Object(me.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",strokeWidth:1.3,viewBox:"0 0 512.001 512.001",children:[Object(me.jsx)("path",{d:"m226 182.707h60v30h-60z"}),Object(me.jsx)("path",{d:"m482 340.339-95.167-73.476c-25.568-19.74-40.833-50.809-40.833-83.112v-46.044c0-28.454-8.007-56.148-23.156-80.091-14.729-23.279-35.535-42.055-60.168-54.298l-6.676-3.318-6.676 3.318c-24.632 12.243-45.438 31.019-60.168 54.298-15.148 23.943-23.156 51.637-23.156 80.091v46.044c0 32.303-15.265 63.372-40.833 83.112l-95.167 73.476v111.662h106v60h240v-60h106zm-226-306.578c32.849 18.929 54.461 51.693 59.067 88.946h-118.133c4.605-37.254 26.217-70.018 59.066-88.946zm-60 118.946h120v269.294h-120zm90 299.294v30h-60v-30zm-226-96.924 83.5-64.468c8.403-6.488 15.934-13.932 22.5-22.106v153.498h-106zm106 96.924h30v30h-30zm180 30h-30v-30h30zm106-60h-106v-153.498c6.565 8.174 14.096 15.618 22.499 22.106l83.501 64.468z"})]})}),Object(me.jsx)(i.c,{to:"/loans",title:"loans",className:"w-7 h-7 mx-2 hover:text-yellow-600",children:Object(me.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(me.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.3,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),Object(me.jsx)(i.c,{to:"/markets",title:"Markets",className:"w-7 h-7 mx-2 hover:text-yellow-600",children:Object(me.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(me.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.3,d:"M7 12l3-3 3 3 4-4M8 21l4-4 4 4M3 4h18M4 4h16v12a1 1 0 01-1 1H5a1 1 0 01-1-1V4z"})})}),Object(me.jsx)(i.c,{to:"/systems",title:"locations",className:"w-7 h-7 mx-2 hover:text-yellow-600",children:Object(me.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(me.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.3,d:"M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7"})})})]})]})},Ne=function(){var e=Object(r.useState)(""),t=Object(f.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)(""),s=Object(f.a)(a,2),i=s[0],l=s[1],u=Object(r.useState)(!1),d=Object(f.a)(u,2),b=d[0],j=d[1],p=Object(r.useState)(!1),x=Object(f.a)(p,2),O=x[0],v=x[1],g=Object(r.useState)(""),y=Object(f.a)(g,2),w=y[0],N=y[1],S=Object(o.b)(),L=Object(r.useState)(!1),E=Object(f.a)(L,2),I=E[0],A=E[1],P=function(){var e=Object(h.a)(m.a.mark((function e(t){var r,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(A(!0),t.preventDefault(),!b){e.next=19;break}return e.prev=3,e.next=6,Y(n);case 6:return r=e.sent,localStorage.setItem("apiKey",JSON.stringify({username:r.user.username,token:r.token})),S(C({username:r.user.username,token:r.token})),e.next=11,Q(r.user.username,r.token);case 11:c=e.sent,S(k(c)),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(3),A(!1),N(e.t0.message);case 19:case"end":return e.stop()}}),e,null,[[3,15]])})));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=Object(h.a)(m.a.mark((function e(t){var r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(A(!0),t.preventDefault(),!b){e.next=16;break}return e.prev=3,e.next=6,Q(n,i);case 6:r=e.sent,localStorage.setItem("apiKey",JSON.stringify({username:n,token:i})),S(C({username:n,token:i})),S(k(r)),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(3),A(!1),N(e.t0.message);case 16:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e,t=null===(e=document.querySelector("form"))||void 0===e?void 0:e.checkValidity();j(t)};return Object(me.jsxs)("div",{className:"bg-gray-800 text-gray-200 w-full h-full flex flex-col items-center justify-center",children:[Object(me.jsx)("h1",{className:"text-4xl",children:"Welcome to Vocivos!"}),Object(me.jsx)("h2",{className:"mb-6",children:"A SpaceTraders API interface"}),w&&Object(me.jsx)("p",{className:"bg-red-300 text-red-800 px-4 py-3 mb-4",children:w}),Object(me.jsx)("div",{className:"flex items-left flex-col",children:O?Object(me.jsxs)("div",{className:"border border-gray-700 rounded p-7 px-10 shadow-lg bg-gray-900",children:[Object(me.jsxs)("form",{className:"mt-2",children:[Object(me.jsx)("div",{children:Object(me.jsx)("input",{type:"text",placeholder:"Username",className:"w-full text-gray-700 py-2 px-2 box-border border border-gray-400 rounded",onChange:function(e){c(e.target.value),M()},required:!0})}),Object(me.jsx)("div",{className:"mt-3",children:Object(me.jsx)("input",{type:"text",placeholder:"Token",className:"w-full text-gray-700 py-2 px-2 box-border border border-gray-400 rounded",onChange:function(e){l(e.target.value),M()}})}),Object(me.jsx)("div",{className:"mt-3",children:Object(me.jsx)("button",{type:"submit",className:"py-2 px-2 w-full text-white bg-green-600 rounded hover:bg-green-700 disabled:opacity-50 disabled:cursor-default disabled:bg-green-600",disabled:I,onClick:B,children:"Login"})})]}),Object(me.jsxs)("p",{className:"text-sm mt-4 text-center",children:["Need an account? ",Object(me.jsx)("button",{type:"button",className:"text-yellow-500 hover:text-yellow-400",onClick:function(){return v(!1)},children:"Register"})]})]}):Object(me.jsxs)("div",{className:"border border-gray-700 rounded p-7 px-10 shadow-lg bg-gray-900",children:[Object(me.jsxs)("form",{className:"mt-2",children:[Object(me.jsx)("input",{type:"text",placeholder:"Username",className:"w-full text-gray-700 py-2 px-2 box-border border border-gray-400 rounded",onChange:function(e){c(e.target.value),M()},required:!0}),Object(me.jsx)("div",{className:"mt-3",children:Object(me.jsx)("button",{type:"submit",className:"py-2 px-2 w-full text-white bg-green-600 rounded hover:bg-green-700 disabled:opacity-50 disabled:cursor-default disabled:bg-green-600",disabled:I,onClick:P,children:"Sign Up"})})]}),Object(me.jsxs)("p",{className:"text-sm mt-4 text-center",children:["Already have an account? ",Object(me.jsx)("button",{type:"button",className:"text-yellow-500 hover:text-yellow-400",onClick:function(){return v(!0)},children:"Sign in"})]})]})})]})},ke=n(96),Ce=n(94),Se=n(97),Le=n(98),Ee=n(95),Ie=function(e){var t=e.handleClose,n=e.show,a=e.ship,s=Object(o.c)((function(e){return e.account})),i=s.token,l=s.username,u=Object(o.c)((function(e){return e.user})).credits,d=Object(o.b)(),b=Object(r.useState)(),j=Object(f.a)(b,2),x=j[0],O=j[1],v=Object(r.useState)(),g=Object(f.a)(v,2),y=g[0],w=g[1],N=Object(r.useState)(0),k=Object(f.a)(N,2),C=k[0],E=k[1],I=Object(r.useState)(!1),A=Object(f.a)(I,2),P=A[0],B=A[1],M=Object(r.useState)(""),z=Object(f.a)(M,2),D=z[0],F=z[1],T=n?"fixed w-full h-full top-0 left-0 flex items-center justify-center text-gray-900 z-10":"hidden";Object(r.useEffect)((function(){(function(){var e=Object(h.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.location){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,oe(i,a.location);case 4:t=e.sent.location.marketplace,O(Object(p.a)(t).sort((function(e,t){return e.symbol>t.symbol?1:t.symbol>e.symbol?-1:0})));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var U=function(){if(!y)return 0;var e=Math.floor(a.spaceAvailable/y.volumePerUnit);return e*y.purchasePricePerUnit<u&&e<=y.quantityAvailable&&e<=300?e:e>y.quantityAvailable&&y.quantityAvailable<=300?y.quantityAvailable:Math.floor(u/y.purchasePricePerUnit)>300?300:Math.floor(u/y.purchasePricePerUnit)},R=function(){var e=Object(h.a)(m.a.mark((function e(){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(y){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,B(!0),e.next=6,ie(i,l,a.id,y.symbol,C);case 6:n=e.sent,d(S(n.credits)),d(L(n.ship)),w(void 0),t(),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),F(e.t0.message);case 16:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(){return e.apply(this,arguments)}}();return Object(me.jsxs)("div",{className:T,children:[Object(me.jsx)("div",{className:"modal-overlay absolute w-full h-full bg-gray-900 opacity-50",onClick:function(){w(void 0),t()}}),Object(me.jsx)("div",{className:"modal-container bg-gray-100 w-11/12 md:max-w-md mx-auto rounded shadow-lg z-50 overflow-y-auto min-h-1/3",children:Object(me.jsxs)("div",{className:"modal-content py-4 text-left px-6",children:[Object(me.jsx)("h3",{className:"text-xl font-semibold mb-6",children:"Market Buy"}),D&&Object(me.jsx)("p",{className:"py-4 px-2 bg-red-500 text-sm text-gray-100 text-center",children:D}),Object(me.jsxs)("div",{className:"relative",children:[x?Object(me.jsx)("div",{className:"divide-y",children:null===x||void 0===x?void 0:x.map((function(e){return Object(me.jsxs)("div",{className:"py-3 flex justify-between items-center bg-gray-100 w-full ".concat(y?"absolute":""," ").concat((null===y||void 0===y?void 0:y.symbol)===e.symbol?"z-10":""),children:[Object(me.jsxs)("div",{children:[Object(me.jsxs)("p",{className:"font-semibold",children:[(t=e.symbol,t.toLowerCase().split("_").map((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})).join(" "))," ",Object(me.jsxs)("span",{className:"ml-3 text-sm text-gray-500 font-normal",children:[e.quantityAvailable.toLocaleString()," units available"]})]}),Object(me.jsxs)("p",{className:"text-sm",children:[e.purchasePricePerUnit.toLocaleString()," credit",e.purchasePricePerUnit>1?"s":""," per unit"]})]}),!y&&Object(me.jsx)("div",{children:Object(me.jsx)("button",{type:"button",className:"text-sm bg-blue-500 text-white px-4 py-1 rounded mr-3 hover:bg-blue-600 disabled:opacity-50 disabled:cursor-default disabled:bg-blue-500",onClick:function(){return w(e)},disabled:e.quantityAvailable<=0,children:"Buy"})})]},e.symbol+e.quantityAvailable+e.pricePerUnit+e.volumePerUnit);var t}))}):Object(me.jsxs)(c.a.Fragment,{children:[Object(me.jsx)(he,{}),Object(me.jsx)(he,{}),Object(me.jsx)(he,{})]}),y&&Object(me.jsxs)("div",{className:"absolute top-20 w-full text-center",children:[Object(me.jsxs)("div",{className:"flex",children:[Object(me.jsx)("input",{type:"number",min:0,max:U(),value:C,placeholder:"Quantity",className:"flex-grow px-3 py-2 border border-gray-300 rounded focus:border-blue-500 focus:outline-none",onChange:function(e){return E(parseInt(e.target.value,10))}}),Object(me.jsx)("button",{type:"button",className:"ml-2 bg-blue-400 text-gray-100 px-3 py-2 rounded hover:bg-blue-500",onClick:function(){return E(U)},children:"Max"})]}),Object(me.jsxs)("button",{type:"button",className:"mt-2 w-full px-3 py-2 bg-green-400 text-white rounded hover:bg-green-500 disabled:opacity-50 disabled:bg-green-400 disabled:cursor-default",disabled:C*y.purchasePricePerUnit<=0||C*y.purchasePricePerUnit>u||P,onClick:R,children:[Object(me.jsxs)("span",{className:P?"hidden":"inline",children:["Purchase for ",(C*y.purchasePricePerUnit).toLocaleString()," credit",C*y.purchasePricePerUnit>1?"s":""]}),Object(me.jsx)("span",{className:P?"inline":"hidden",children:"Please wait..."})]}),Object(me.jsx)("button",{type:"button",className:"text-red-400 mt-3 hover:text-red-500",onClick:function(){w(void 0),F(""),E(0)},children:"Back"})]})]})]})})]})},Ae=function(e){var t,n,a=e.handleClose,s=e.show,i=e.ship,l=Object(o.c)((function(e){return e.account})),u=l.token,b=l.username,j=Object(o.c)((function(e){return e})).systems,p=Object(o.b)(),x=Object(r.useState)(),O=Object(f.a)(x,2),v=O[0],g=O[1],y=Object(r.useState)(),w=Object(f.a)(y,2),N=w[0],k=w[1],C=Object(r.useState)(0),E=Object(f.a)(C,2),I=E[0],A=E[1],P=Object(r.useState)(!1),B=Object(f.a)(P,2),M=B[0],z=B[1],D=Object(r.useState)(""),F=Object(f.a)(D,2),T=F[0],U=F[1],R=s?"fixed w-full h-full top-0 left-0 flex items-center justify-center text-gray-900 z-10":"hidden";Object(r.useEffect)((function(){(function(){var e=Object(h.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i.location){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,oe(u,i.location);case 4:t=e.sent.location.marketplace,g(t);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var W=function(){return N?N.quantity<=300?N.quantity:300:0},q=function(){var e=Object(h.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,N){e.next=3;break}return e.abrupt("return");case 3:return z(!0),e.next=6,le(u,b,i.id,N.good,I);case 6:t=e.sent,p(S(t.credits)),p(L(t.ship)),k(void 0),a(),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),U(e.t0.message),z(!1);case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}(),V=function(){var e=Object(h.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,N){e.next=3;break}return e.abrupt("return");case 3:return z(!0),e.next=6,de(u,b,i.id,N.good,I);case 6:return e.sent,e.next=9,re(u,b,i.id);case 9:t=e.sent,p(L(t.ship)),k(void 0),a(),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(0),U(e.t0.message),z(!1);case 19:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(){return e.apply(this,arguments)}}(),G=function(){var e=Object(h.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,N&&i.location){e.next=3;break}return e.abrupt("return");case 3:return z(!0),e.next=6,ue(u,i.location,i.id,N.good,I);case 6:return e.sent,e.next=9,re(u,b,i.id);case 9:t=e.sent,p(L(t.ship)),k(void 0),a(),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(0),U(e.t0.message),z(!1);case 19:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(){return e.apply(this,arguments)}}(),H=function(){if(N&&(null===v||void 0===v?void 0:v.find((function(e){return e.symbol===N.good})))){var e=null===v||void 0===v?void 0:v.find((function(e){return e.symbol===N.good}));return(I*e.sellPricePerUnit).toLocaleString()}return null};return Object(me.jsxs)("div",{className:R,children:[Object(me.jsx)("div",{className:"modal-overlay absolute w-full h-full bg-gray-900 opacity-50",onClick:function(){k(void 0),a()}}),Object(me.jsx)("div",{className:"modal-container bg-gray-100 w-11/12 md:max-w-md mx-auto rounded shadow-lg z-50 overflow-y-auto ".concat(N?"min-h-1/3":""),children:Object(me.jsxs)("div",{className:"modal-content py-4 text-left px-6",children:[Object(me.jsx)("h3",{className:"text-xl font-semibold mb-6",children:"Your Cargo"}),T&&Object(me.jsx)("p",{className:"py-4 px-2 bg-red-500 text-sm text-gray-100 text-center",children:T}),Object(me.jsxs)("div",{className:"relative",children:[v?Object(me.jsx)("div",{className:"divide-y",children:null===(t=i.cargo)||void 0===t?void 0:t.map((function(e){return Object(me.jsxs)("div",{className:"py-3 flex justify-between items-center bg-gray-100 w-full ".concat(N?"absolute":""," ").concat((null===N||void 0===N?void 0:N.good)===e.good?"z-10":""),children:[Object(me.jsxs)("div",{children:[Object(me.jsxs)("p",{className:"font-semibold",children:[(t=e.good,t.toLowerCase().split("_").map((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})).join(" "))," ",Object(me.jsxs)("span",{className:"ml-3 text-sm text-gray-500 font-normal",children:[e.quantity.toLocaleString()," units available"]})]}),(null===v||void 0===v?void 0:v.some((function(t){return t.symbol===e.good})))&&Object(me.jsxs)("p",{className:"text-sm",children:[H()," credits per unit"]})]}),!N&&Object(me.jsx)("div",{children:Object(me.jsx)("button",{type:"button",className:"text-sm bg-blue-500 text-white px-4 py-1 rounded hover:bg-blue-600 disabled:opacity-50 disabled:cursor-default disabled:bg-blue-500",onClick:function(){return k(e)},children:"Manage"})})]},e.good+e.quantity+e.totalVolume);var t}))}):Object(me.jsxs)(c.a.Fragment,{children:[Object(me.jsx)(he,{}),Object(me.jsx)(he,{}),Object(me.jsx)(he,{})]}),N&&Object(me.jsxs)("div",{className:"absolute top-20 w-full text-center",children:[Object(me.jsx)("input",{type:"number",min:0,max:N.quantity,value:I,placeholder:"Quantity",className:"w-full flex-grow px-3 py-2 border border-gray-300 rounded focus:border-blue-500 focus:outline-none",onChange:function(e){return A(parseInt(e.target.value,10))}}),Object(me.jsx)("button",{type:"button",className:"text-sm block text-blue-500 hover:text-blue-600",onClick:function(){return A(W)},children:"Set Max Available"}),Object(me.jsx)("div",{children:M?Object(me.jsx)("p",{children:"Please wait..."}):Object(me.jsxs)(c.a.Fragment,{children:[Object(me.jsxs)("button",{type:"button",className:"text-sm mt-2 mr-3 px-3 py-2 bg-red-500 text-white rounded hover:bg-red-600 disabled:opacity-50 disabled:bg-red-500 disabled:cursor-default",disabled:I<=0||M,onClick:V,children:["Delete ",I," units"]}),(null===(n=j.find((function(e){var t;return e.symbol===(null===(t=i.location)||void 0===t?void 0:t.split("-")[0])})))||void 0===n?void 0:n.locations.some((function(e){return i.location===e.symbol&&e.type===d.Wormhole})))?Object(me.jsxs)("button",{type:"button",className:"text-sm mt-2 mr-3 px-3 py-2 bg-purple-500 text-white rounded hover:bg-purple-600 disabled:opacity-50 disabled:bg-purple-500 disabled:cursor-default",disabled:I<=0||M,onClick:G,children:["Donate ",I," units"]}):null,Object(me.jsx)("button",{type:"button",className:"text-sm mt-2 px-3 py-2 bg-green-500 text-white rounded hover:bg-green-600 disabled:opacity-50 disabled:bg-green-500 disabled:cursor-default",disabled:I<=0||M||!H(),onClick:q,children:null!==H()?Object(me.jsxs)("span",{className:M?"hidden":"inline",children:["Sell for ",H()," credits"]}):Object(me.jsx)("span",{children:"Unable to sell"})})]})}),Object(me.jsxs)("button",{type:"button",className:"flex items-center text-sm text-red-400 mt-3 hover:text-red-500",onClick:function(){k(void 0),U(""),A(0)},children:[Object(me.jsx)("svg",{className:"h-3 w-3",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:Object(me.jsx)("path",{fillRule:"evenodd",d:"M7.707 14.707a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l2.293 2.293a1 1 0 010 1.414z",clipRule:"evenodd"})}),"Back"]})]})]})]})})]})},Pe=function(e){var t=e.handleClose,n=e.shipError,a=e.show,s=e.ship,i=Object(o.c)((function(e){return e.account})),l=i.token,u=i.username,j=Object(o.b)(),p=Object(r.useState)(),x=Object(f.a)(p,2),O=x[0],v=x[1],g=Object(r.useState)(""),y=Object(f.a)(g,2),w=y[0],N=y[1],k=Object(r.useState)(!0),C=Object(f.a)(k,2),I=C[0],A=C[1],P=a?"fixed w-full h-full top-0 left-0 flex items-center justify-center text-gray-900 z-10":"hidden";Object(r.useEffect)((function(){(function(){var e=Object(h.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s.location){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,ae(l,s.location.split("-")[0]);case 4:t=e.sent.locations,v(t);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var B=function(){var e=Object(h.a)(m.a.mark((function e(r,c){var a,o,i,p,x,h,f,O,v,g=arguments;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=!(g.length>2&&void 0!==g[2])||g[2],e.prev=1,r!==d.Wormhole||s.location!==c){e.next=8;break}return e.next=5,pe(l,u,s.id);case 5:o=e.sent.flightPlan,e.next=11;break;case 8:return e.next=10,be(l,u,s.id,c);case 10:o=e.sent.flightPlan;case 11:j(E(o)),t(),e.next=44;break;case 15:if(e.prev=15,e.t0=e.catch(1),i=e.t0,p=i.message,!(a&&I&&p&&p.startsWith("Ship has insufficient fuel for flight plan"))){e.next=36;break}if(!(x=p.match(/\d+/))){e.next=34;break}return e.prev=21,h=parseInt(x[0],10),e.next=25,ie(l,u,s.id,b.Fuel,h);case 25:f=e.sent,j(S(f.credits)),j(L(f.ship)),B(r,c,!1),e.next=34;break;case 31:e.prev=31,e.t1=e.catch(21),N(e.t1.message);case 34:e.next=44;break;case 36:if(N(p),r!==d.Wormhole){e.next=44;break}return e.next=40,te(l,u);case 40:O=e.sent,v=O.ships,j(D(v)),n(p);case 44:case"end":return e.stop()}}),e,null,[[1,15],[21,31]])})));return function(t,n){return e.apply(this,arguments)}}();return Object(me.jsxs)("div",{className:P,children:[Object(me.jsx)("div",{className:"modal-overlay absolute w-full h-full bg-gray-900 opacity-50",onClick:t}),Object(me.jsx)("div",{className:"modal-container bg-gray-100 w-11/12 md:max-w-md mx-auto rounded shadow-lg z-50 overflow-y-auto min-h-1/3",children:Object(me.jsxs)("div",{className:"modal-content py-4 text-left px-6",children:[Object(me.jsx)("h3",{className:"text-xl font-semibold mb-3",children:"Set Destination"}),Object(me.jsx)("div",{className:"text-sm mb-4",children:Object(me.jsxs)("label",{htmlFor:"autoBuyFuel",className:"flex items-center cursor-pointer",children:[Object(me.jsx)("input",{type:"checkbox",id:"autoBuyFuel",name:"autoBuyFuel",checked:I,onChange:function(e){return A(e.target.checked)}}),Object(me.jsx)("span",{className:"ml-1",children:"Automatically buy required fuel"})]})}),w&&Object(me.jsx)("p",{className:"py-4 px-2 bg-red-500 text-sm text-gray-100 text-center",children:w}),Object(me.jsx)("div",{className:"relative",children:O?Object(me.jsx)("div",{className:"divide-y",children:O.map((function(e){return Object(me.jsxs)("div",{className:"py-2 flex justify-between items-center",children:[Object(me.jsxs)("div",{children:[Object(me.jsx)("p",{children:e.name}),Object(me.jsx)("p",{className:"text-sm text-gray-500",children:e.symbol})]}),Object(me.jsx)("div",{children:s.location===e.symbol&&e.type!==d.Wormhole?Object(me.jsx)("p",{className:"text-sm text-gray-600 cursor-default",children:"Current location"}):Object(me.jsx)("button",{type:"button",className:"px-3 py-1 bg-blue-500 text-white rounded text-sm hover:bg-blue-600 disabled:opacity-50 disabled:cursor-default disabled:bg-blue-500",onClick:function(){return B(e.type,e.symbol)},children:e.type===d.Wormhole&&s.location===e.symbol?"Warp":"Travel"})})]},e.symbol+e.name)}))}):Object(me.jsxs)(c.a.Fragment,{children:[Object(me.jsx)(he,{}),Object(me.jsx)(he,{}),Object(me.jsx)(he,{})]})})]})})]})},Be=function(e){var t=e.completed;return Object(me.jsx)("div",{className:"h-0.5 w-full text-right bg-gray-600",children:Object(me.jsx)("div",{className:"h-full text-right bg-green-500 max-w-full",style:{width:"".concat(t,"%"),transition:"width 0.5s ease"},children:Object(me.jsx)("span",{})})})},Me=n(7);!function(e){e[e.Travel=0]="Travel",e[e.Buy=1]="Buy",e[e.Sell=2]="Sell"}(K||(K={}));var ze=function(e){var t=e.step,n=e.index,r=e.length,a=e.system,s=e.editStep,o=e.deleteStep,i=e.moveStepUp,l=e.moveStepDown,u=function(e){t.type.action!==K.Travel?Number.isNaN(parseInt(e,10))?s(Object(Me.a)(Object(Me.a)({},t),{},{type:Object(Me.a)(Object(Me.a)({},t.type),{},{good:e})})):s(Object(Me.a)(Object(Me.a)({},t),{},{type:Object(Me.a)(Object(Me.a)({},t.type),{},{quantity:parseInt(e,10)})})):s(Object(Me.a)(Object(Me.a)({},t),{},{type:Object(Me.a)(Object(Me.a)({},t.type),{},{destination:e})}))},d=function(e){return e.toLowerCase().split("_").map((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})).join(" ")};return Object(me.jsxs)("div",{className:"flex justify-between items-center w-full h-12 my-1 py-1 px-2 border border-gray-400 rounded-sm text-gray-500 hover:border-blue-300",children:[Object(me.jsxs)("div",{className:"flex flex-col w-4",children:[0!==n&&Object(me.jsx)("button",{type:"button",className:"mb-1 w-4 h-4 hover:text-black",onClick:i,children:Object(me.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(me.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})})}),n!==r-1&&Object(me.jsx)("button",{type:"button",className:"w-4 h-4 hover:text-black",onClick:l,children:Object(me.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(me.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}),Object(me.jsxs)("div",{className:"flex items-center w-full px-2 text-left",children:[Object(me.jsxs)("select",{name:"stepType-".concat(t.id),id:"stepType-".concat(t.id),className:"text-sm mr-2 bg-gray-100 border-b border-yellow-500 appearance-none cursor-pointer",value:t.type.action,onChange:function(e){return function(e){switch(e){case"0":s(Object(Me.a)(Object(Me.a)({},t),{},{type:{action:K.Travel,destination:a[0].symbol}}));break;case"1":s(Object(Me.a)(Object(Me.a)({},t),{},{type:{action:K.Buy,good:b.Chemicals,quantity:0}}));break;case"2":s(Object(Me.a)(Object(Me.a)({},t),{},{type:{action:K.Sell,good:b.Chemicals,quantity:0}}))}}(e.target.value)},children:[Object(me.jsx)("option",{value:"0",children:"Travel"}),Object(me.jsx)("option",{value:"1",children:"Buy"}),Object(me.jsx)("option",{value:"2",children:"Sell"})]}),function(e){switch(e){case K.Travel:return Object(me.jsxs)(c.a.Fragment,{children:[Object(me.jsx)("p",{className:"text-sm",children:"to"}),Object(me.jsx)("select",{name:"dest-".concat(t.id),id:"dest-".concat(t.id),className:"text-sm ml-3 bg-gray-100 border-b border-yellow-500 appearance-none cursor-pointer",value:t.type.destination,onChange:function(e){return u(e.target.value)},children:a.map((function(e){return Object(me.jsxs)("option",{value:e.symbol,children:[e.name," (",e.symbol,")"]},"".concat(t.id,"-").concat(e.name))}))})]});case K.Buy:return Object(me.jsxs)(c.a.Fragment,{children:[Object(me.jsx)("select",{name:"buy-".concat(t.id),id:"buy-".concat(t.id),className:"text-sm ml-1 bg-gray-100 border-b border-yellow-500 appearance-none cursor-pointer",value:t.type.good,onChange:function(e){return u(e.target.value)},children:Object.values(b).map((function(e){return Object(me.jsx)("option",{value:e,children:d(e)},"".concat(t.id,"-buy-").concat(e))}))}),Object(me.jsx)("input",{type:"number",min:-1,max:300,value:t.type.quantity,className:"text-sm w-1/4 ml-2 border border-gray-200 focus:outline-none focus:border-blue-300",onChange:function(e){return u(e.target.value)}}),Object(me.jsx)("span",{className:"text-xs ml-0.5",children:"(-1 = max)"})]});case K.Sell:return Object(me.jsxs)(c.a.Fragment,{children:[Object(me.jsx)("select",{name:"buy-".concat(t.id),id:"buy-".concat(t.id),className:"text-sm ml-1 bg-gray-100 border-b border-yellow-500 appearance-none cursor-pointer",value:t.type.good,onChange:function(e){return u(e.target.value)},children:Object.values(b).map((function(e){return Object(me.jsx)("option",{value:e,children:d(e)},"".concat(t.id,"-sell-").concat(e))}))}),Object(me.jsx)("input",{type:"number",min:-1,max:300,value:t.type.quantity,className:"text-sm w-1/4 ml-2 border border-gray-200 focus:outline-none focus:border-blue-300",onChange:function(e){return u(e.target.value)}}),Object(me.jsx)("span",{className:"text-xs ml-0.5",children:"(-1 = max)"})]});default:return Object(me.jsx)("div",{})}}(t.type.action)]}),Object(me.jsx)("button",{type:"button",className:"text-red-400 hover:text-white hover:bg-red-400 rounded-full",onClick:o,children:Object(me.jsx)("div",{className:"w-5 h-5",children:Object(me.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(me.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.4,d:"M15 12H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})})})})]})},De=function(e){var t=e.handleClose,n=e.show,c=e.ship,a=Object(o.c)((function(e){return e.account})).token,s=Object(o.c)((function(e){return e.automations})),i=Object(o.c)((function(e){return e.user})).ships,l=Object(o.b)(),u=Object(r.useState)({shipId:c.id,steps:[],enabled:!1,error:null}),d=Object(f.a)(u,2),b=d[0],j=d[1],x=Object(r.useState)([]),O=Object(f.a)(x,2),v=O[0],g=O[1],y=n?"fixed w-full h-full top-0 left-0 flex items-center justify-center text-gray-900 z-50":"hidden";Object(r.useEffect)((function(){(function(){var e=Object(h.a)(m.a.mark((function e(){var t,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae(a,"OE");case 2:t=e.sent.locations,g(t),(n=s.find((function(e){return e.shipId===c.id})))&&j(n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var w=function(){for(var e="",t=0;t<24;t+=1)e+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(Math.floor(62*Math.random()));return e},N=function(e){var t=b.steps.map((function(t){return t.id===e.id?Object(Me.a)(Object(Me.a)({},t),{},{type:e.type}):t}));j(Object(Me.a)(Object(Me.a)({},b),{},{steps:t}))};return Object(me.jsxs)("div",{className:y,children:[Object(me.jsx)("div",{className:"modal-overlay absolute w-full h-full bg-gray-900 opacity-50",onClick:function(){t()}}),Object(me.jsxs)("div",{className:"modal-container flex flex-col bg-gray-100 w-11/12 md:max-w-md mx-auto rounded shadow-lg z-50 overflow-y-auto min-h-1/3",children:[Object(me.jsxs)("div",{className:"modal-content py-4 text-left px-6",children:[Object(me.jsx)("h3",{className:"text-xl font-semibold",children:"Automate"}),Object(me.jsx)("p",{className:"text-sm mt-2 mb-1",children:"Steps will begin at ship's current location"}),Object(me.jsx)("p",{className:"text-sm",children:"Browser tab must be kept open for automation to run."})]}),b.error&&Object(me.jsx)("div",{className:"px-6 mb-4",children:Object(me.jsx)("p",{className:"bg-red-300 text-red-800 py-3 px-4",children:b.error})}),s.length>0&&Object(me.jsx)("div",{className:"flex items-center p-4 pt-0",children:Object(me.jsxs)("select",{name:"copyAutomation",id:"copyAutomation",className:"text-sm ml-2 bg-gray-100 border-b border-yellow-500 appearance-none cursor-pointer",onChange:function(e){return function(e){var t,n=null===(t=s.find((function(t){return t.shipId===e})))||void 0===t?void 0:t.steps;n&&j(Object(Me.a)(Object(Me.a)({},b),{},{steps:n}))}(e.target.value)},children:[Object(me.jsx)("option",{disabled:!0,selected:!0,value:"",children:" -- Copy from -- "}),s.map((function(e){var t;return e.shipId!==c.id?Object(me.jsx)("option",{value:e.shipId,children:null===(t=i.find((function(t){return t.id===e.shipId})))||void 0===t?void 0:t.type},e.shipId):null}))]})}),Object(me.jsx)("div",{className:"flex flex-grow p-4 pt-0",children:Object(me.jsxs)("div",{className:"w-full border border-gray-300 p-2",children:[b.steps.map((function(e,t){return Object(me.jsx)(ze,{step:e,index:t,length:b.steps.length,system:v,editStep:N,deleteStep:function(){return t=e.id,void j(Object(Me.a)(Object(Me.a)({},b),{},{steps:b.steps.filter((function(e){return e.id!==t}))}));var t},moveStepUp:function(){return function(e){var t=Object(p.a)(b.steps),n=t[e];t.splice(e,1),t.splice(e-1,0,n),j(Object(Me.a)(Object(Me.a)({},b),{},{steps:t}))}(t)},moveStepDown:function(){return function(e){var t=Object(p.a)(b.steps),n=t[e];t.splice(e,1),t.splice(e+1,0,n),j(Object(Me.a)(Object(Me.a)({},b),{},{steps:t}))}(t)}},e.id)})),v[0]?Object(me.jsx)("button",{type:"button",className:"flex justify-center items-center w-full py-2 bg-gray-300 border border-gray-400 rounded-sm text-gray-500 cursor-pointer hover:bg-gray-400 hover:text-gray-600",onClick:function(){return function(){var e={type:{action:K.Travel,destination:v[0].symbol},id:w()};j(Object(Me.a)(Object(Me.a)({},b),{},{steps:[].concat(Object(p.a)(b.steps),[e])}))}()},children:Object(me.jsx)("div",{className:"w-6 h-6",children:Object(me.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(me.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.4,d:"M12 9v3m0 0v3m0-3h3m-3 0H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})})})}):Object(me.jsx)(ge,{})]})}),Object(me.jsxs)("div",{className:"text-center",children:[Object(me.jsx)("button",{type:"button",className:"mb-1 text-red-500 hover:text-red-600",onClick:function(){t()},children:"Close"}),b.enabled?Object(me.jsx)("button",{type:"button",className:"mt-2 w-full px-3 py-2 bg-red-500 text-white hover:bg-red-600 disabled:opacity-50 disabled:bg-red-400 disabled:cursor-default",disabled:0===b.steps.length,onClick:function(){l(B({shipId:c.id,enabled:!1})),t()},children:"Stop"}):Object(me.jsx)("button",{type:"button",className:"mt-2 w-full px-3 py-2 bg-green-500 text-white hover:bg-green-600 disabled:opacity-50 disabled:bg-green-400 disabled:cursor-default",disabled:0===b.steps.length,onClick:function(){l(P(b)),l(B({shipId:c.id,enabled:!0})),t()},children:"Run"})]})]})]})},Fe=function(e){var t,n,a,s,i,l,u,d=e.ship,j=e.compact,p=e.shipError,x=Object(o.c)((function(e){return e.systems})),m=Object(o.c)((function(e){return e.flightPlans.find((function(e){return e.shipId===d.id}))})),h=Object(o.c)((function(e){return e.automations.find((function(e){return e.shipId===d.id}))})),O=Object(o.b)(),v=Object(r.useState)(!1),g=Object(f.a)(v,2),y=g[0],w=g[1],N=Object(r.useState)(!1),k=Object(f.a)(N,2),C=k[0],S=k[1],L=Object(r.useState)(!1),E=Object(f.a)(L,2),A=E[0],P=E[1],B=Object(r.useState)(!1),z=Object(f.a)(B,2),D=z[0],F=z[1],T=Object(r.useState)(),U=Object(f.a)(T,2),R=U[0],W=U[1],q=Object(r.useState)(Date.now()),V=Object(f.a)(q,2),G=V[0],H=V[1];Object(r.useEffect)((function(){var e=setInterval((function(){return H(Date.now())}),1e3);return function(){return clearInterval(e)}})),Object(r.useEffect)((function(){m&&(Object(Ce.a)(new Date(m.arrivesAt))&&O(I(m)),W(Object(Se.a)(new Date(m.arrivesAt))))}),[G]);var _,J=function(){return m?(Date.now()/1e3-(Object(Le.a)(new Date(m.arrivesAt))-m.timeRemainingInSeconds))/m.timeRemainingInSeconds*100:0};return Object(me.jsxs)(c.a.Fragment,{children:[y?Object(me.jsx)(Ie,{show:y,ship:d,handleClose:function(){return w(!1)}}):null,C?Object(me.jsx)(Ae,{show:C,ship:d,handleClose:function(){return S(!1)}}):null,A?Object(me.jsx)(Pe,{show:A,ship:d,handleClose:function(){return P(!1)},shipError:function(e){return p&&p(e)}}):null,D?Object(me.jsx)(De,{show:D,ship:d,handleClose:function(){return F(!1),void((null===h||void 0===h?void 0:h.error)&&O(M({shipId:d.id,error:null})))}}):null,j?Object(me.jsxs)("div",{className:"p-3 bg-gray-900 border border-gray-700 rounded divide-y divide-gray-500 hover:border-yellow-900 hover:shadow-xl",children:[Object(me.jsxs)("div",{className:"flex justify-between items-center ",children:[Object(me.jsxs)("div",{className:"text-left",children:[Object(me.jsx)("h3",{children:d.type}),Object(me.jsx)("p",{className:"text-xs text-gray-400",children:null!==(t=d.location)&&void 0!==t?t:"In transit"})]}),m&&Object(Ee.a)(new Date(m.arrivesAt))||!d.location?Object(me.jsxs)("div",{className:"text-right",children:[Object(me.jsx)("p",{className:"text-xs text-gray-400",children:"In Transit"}),Object(me.jsx)("p",{className:"text-xs text-gray-300",children:R?"Arrives in ".concat(R):"ETA Unknown"})]}):Object(me.jsx)("div",{children:(null===h||void 0===h?void 0:h.enabled)?Object(me.jsx)("p",{className:"text-sm",children:"Automating"}):Object(me.jsxs)(c.a.Fragment,{children:[Object(me.jsx)("button",{type:"button",title:"Travel",className:"mr-2 w-6 h-6 bg-blue-500 rounded hover:bg-blue-600 disabled:opacity-50 disabled:bg-blue-500 disabled:cursor-default",onClick:function(){return P(!0)},disabled:(_=d.cargo,!(_.filter((function(e){return e.good===b.Fuel})).reduce((function(e,t){return e+t.quantity}),0)>0)),children:Object(me.jsx)("p",{className:"text-sm font-bold",children:"T"})}),Object(me.jsx)("button",{type:"button",title:"Buy",className:"mr-2 w-6 h-6 bg-green-500 rounded hover:bg-green-600",onClick:function(){return w(!0)},children:Object(me.jsx)("p",{className:"text-sm font-bold",children:"B"})}),Object(me.jsx)("button",{type:"button",title:"Sell",className:"mr-2 w-6 h-6 bg-red-500 rounded hover:bg-red-600",onClick:function(){return S(!0)},children:Object(me.jsx)("p",{className:"text-sm font-bold",children:"S"})})]})})]}),m&&Object(Ee.a)(new Date(m.arrivesAt))||!d.location?Object(me.jsx)("div",{className:"mt-2",children:Object(me.jsx)(Be,{completed:J()})}):null]}):Object(me.jsxs)("div",{className:"focus:outline-none bg-gray-900 border border-gray-700 rounded",children:[Object(me.jsxs)("div",{className:"flex justify-between items-center p-3 bg-gray-700 border-b border-gray-600",children:[Object(me.jsxs)("div",{children:[Object(me.jsx)("h3",{className:"text-xl",children:d.type}),Object(me.jsx)("p",{className:"text-xs text-gray-400",children:d.manufacturer})]}),Object(me.jsx)("div",{className:"flex flex-col",children:Object(me.jsxs)("div",{className:"grid grid-cols-3 gap-2 mt-1",children:[Object(me.jsxs)("div",{className:"flex items-center",children:[Object(me.jsx)("div",{className:"w-5 h-5 mr-1",children:Object(me.jsx)("svg",{fill:"#E5E7EB",enableBackground:"new 0 0 512 512",viewBox:"0 0 512 512",xmlns:"http://www.w3.org/2000/svg",children:Object(me.jsx)("path",{d:"m512 358.121c0-68.38-26.629-132.667-74.98-181.02-48.353-48.352-112.64-74.98-181.02-74.98s-132.667 26.629-181.02 74.98c-48.351 48.353-74.98 112.64-74.98 181.02v15h205.016c4.085 12.323 12.371 22.642 23.657 29.305 8.558 5.052 17.953 7.453 27.236 7.453 18.406 0 36.36-9.448 46.376-26.413 1.956-3.313 3.522-6.781 4.717-10.345h204.998zm-235.548 10.093c-6.656 11.276-21.247 15.037-32.526 8.378-5.463-3.225-9.343-8.384-10.925-14.528-1.583-6.144-.679-12.535 2.547-17.998s8.385-9.343 14.528-10.925c1.976-.509 3.977-.76 5.964-.76 4.194 0 8.328 1.12 12.034 3.308 5.463 3.225 9.343 8.384 10.925 14.528 1.583 6.143.679 12.535-2.547 17.997zm31.689-25.093c-.032-.129-.057-.259-.09-.388-2.296-8.916-6.74-16.908-12.887-23.425l43.106-73.015-25.834-15.252-43.106 73.015c-8.675-2.233-17.819-2.264-26.737.032-13.903 3.581-25.58 12.362-32.879 24.726-2.674 4.53-4.636 9.344-5.882 14.307h-173.34c1.992-30.247 9.976-58.88 22.75-84.742l33.311 19.232 15-25.98-33.274-19.21c16.444-24.477 37.541-45.578 62.018-62.022l19.212 33.276 25.98-15-19.236-33.318c25.861-12.774 54.5-20.737 84.746-22.729v38.493h30v-38.493c30.246 1.992 58.885 9.955 84.746 22.729l-19.236 33.318 25.98 15 19.212-33.276c24.477 16.444 45.573 37.545 62.018 62.022l-33.274 19.21 15 25.98 33.311-19.232c12.774 25.862 20.758 54.495 22.75 84.742z"})})}),Object(me.jsx)("p",{children:d.speed})]}),Object(me.jsxs)("div",{className:"flex items-center",children:[Object(me.jsx)("div",{className:"w-4 h-4 mr-1",children:Object(me.jsx)("svg",{fill:"#E5E7EB",enableBackground:"new 0 0 510.192 510.192",viewBox:"0 0 510.192 510.192",xmlns:"http://www.w3.org/2000/svg",children:Object(me.jsx)("g",{children:Object(me.jsx)("path",{d:"m510.192 0-122.656 13.628-300.462 300.463-22.694-22.694 33.301-33.3-21.213-21.213-54.514 54.513c10.689 10.689 55.253 55.254 65.86 65.861l-87.814 87.814 65.12 65.12 87.813-87.814c10.633 10.632 55.212 55.211 65.861 65.86l54.513-54.514-21.213-21.213-33.3 33.301-22.694-22.693 300.464-300.463zm-467.766 445.072 22.693-22.694 22.695 22.695-22.694 22.693zm66.602-21.212-22.695-22.695 22.694-22.693 22.694 22.694zm358.881-314.976-293.022 293.022-22.693-22.694 252.835-252.835-21.213-21.213-252.835 252.835-22.694-22.693 293.021-293.023 74.927-8.325z"})})})}),Object(me.jsx)("p",{children:d.weapons})]}),Object(me.jsxs)("div",{className:"flex items-center",children:[Object(me.jsx)("div",{className:"w-4 h-4 mr-1",children:Object(me.jsx)("svg",{fill:"#E5E7EB",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 512 512",children:Object(me.jsx)("g",{children:Object(me.jsx)("path",{d:"M461.144,60.883L260.312,0.633c-2.809-0.844-5.808-0.844-8.62,0L50.858,60.883c-6.345,1.903-10.69,7.743-10.69,14.367 v220.916c0,28.734,11.632,58.148,34.573,87.425c17.522,22.36,41.762,44.813,72.048,66.736 c50.877,36.828,100.975,59.42,103.083,60.363c1.95,0.873,4.039,1.31,6.129,1.31c2.089,0,4.179-0.436,6.129-1.31 c2.108-0.943,52.205-23.535,103.082-60.363c30.285-21.923,54.525-44.376,72.047-66.736c22.941-29.276,34.573-58.69,34.573-87.425 V75.25C471.833,68.626,467.489,62.786,461.144,60.883z M441.833,296.166c0,50.852-51.023,98.534-93.826,129.581 c-38.374,27.833-77.291,47.583-92.005,54.678c-14.714-7.095-53.632-26.845-92.006-54.678 c-42.804-31.047-93.828-78.729-93.828-129.581V86.41l185.833-55.75l185.832,55.75V296.166z"})})})}),Object(me.jsx)("p",{children:d.plating})]})]})})]}),Object(me.jsx)("div",{className:"py-3 px-3 pl-2 border-b border-gray-700 relative",children:m&&Object(Ee.a)(new Date(m.arrivesAt))||!d.location?Object(me.jsxs)(c.a.Fragment,{children:[Object(me.jsxs)("div",{className:"flex items-center justify-between",children:[Object(me.jsxs)("div",{className:"flex items-center",children:[Object(me.jsxs)("svg",{className:"w-6 h-6 mr-1",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[Object(me.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.3,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),Object(me.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.3,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),Object(me.jsxs)("p",{className:"flex items-center mt-0.5",children:[null===(n=x.find((function(e){return e.symbol===(null===m||void 0===m?void 0:m.departure.split("-")[0])})))||void 0===n||null===(a=n.locations.find((function(e){return e.symbol===(null===m||void 0===m?void 0:m.departure)})))||void 0===a?void 0:a.name,Object(me.jsx)("svg",{className:"h-4 w-4 mx-1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:Object(me.jsx)("path",{fillRule:"evenodd",d:"M12.293 5.293a1 1 0 011.414 0l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-2.293-2.293a1 1 0 010-1.414z",clipRule:"evenodd"})}),null===(s=x.find((function(e){return e.symbol===(null===m||void 0===m?void 0:m.destination.split("-")[0])})))||void 0===s||null===(i=s.locations.find((function(e){return e.symbol===(null===m||void 0===m?void 0:m.destination)})))||void 0===i?void 0:i.name]})]}),Object(me.jsxs)("span",{className:"text-sm text-gray-400 mt-1",children:["(",R?"Arrives in ".concat(R):"ETA Unknown",")"]})]}),(null===h||void 0===h?void 0:h.enabled)&&Object(me.jsxs)("div",{className:"relative z-10 w-full flex items-center justify-end pr-0.5 mt-2",children:[Object(me.jsx)("p",{className:"text-xs",children:"Automating"}),Object(me.jsx)("button",{type:"button",className:"text-xs ml-2 px-2 py-1 bg-purple-500 rounded hover:bg-purple-600",onClick:function(){return F(!0)},children:"Tasks"})]}),Object(me.jsx)("div",{className:"absolute inset-0",children:Object(me.jsx)("div",{children:Object(me.jsx)(Be,{completed:J()})})})]}):Object(me.jsxs)("div",{className:"w-full flex justify-between items-center",children:[Object(me.jsxs)("div",{className:"flex items-center",children:[Object(me.jsxs)("svg",{className:"h-6 w-6 mr-1",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[Object(me.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.3,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),Object(me.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.3,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),Object(me.jsx)("p",{className:"pt-0.5",children:null===(l=x.find((function(e){var t;return e.symbol===(null===(t=d.location)||void 0===t?void 0:t.split("-")[0])})))||void 0===l||null===(u=l.locations.find((function(e){return e.symbol===d.location})))||void 0===u?void 0:u.name}),Object(me.jsxs)("span",{className:"ml-1 pt-1 text-sm text-gray-400",children:["(",d.location,")"]})]}),Object(me.jsx)("div",{children:(null===h||void 0===h?void 0:h.enabled)?null:Object(me.jsxs)(c.a.Fragment,{children:[Object(me.jsx)("button",{type:"button",className:"text-xs mr-2 px-2 py-1 bg-blue-500 rounded hover:bg-blue-600 disabled:opacity-50 disabled:bg-blue-500 disabled:cursor-default",onClick:function(){return P(!0)},children:"Travel"}),Object(me.jsx)("button",{type:"button",className:"text-xs px-2 py-1 bg-purple-500 rounded hover:bg-purple-600",onClick:function(){return F(!0)},children:"Automate"})]})})]})}),Object(me.jsxs)("div",{className:"p-3",children:[Object(me.jsxs)("div",{className:"flex items-center mb-2",children:[Object(me.jsxs)("p",{className:"mr-3",children:["Cargo ",Object(me.jsxs)("span",{className:"ml-2 text-sm text-gray-400",children:[d.maxCargo-d.spaceAvailable," of ",d.maxCargo]})]}),d.location&&!(null===h||void 0===h?void 0:h.enabled)&&Object(me.jsxs)(c.a.Fragment,{children:[Object(me.jsx)("button",{type:"button",className:"text-xs mr-2 px-2 py-1 bg-green-500 rounded hover:bg-green-600",onClick:function(){return w(!0)},children:"Buy"}),Object(me.jsx)("button",{type:"button",className:"text-xs px-2 py-1 bg-red-500 rounded hover:bg-red-600",onClick:function(){return S(!0)},children:"Sell"})]})]}),Object(me.jsx)("div",{className:"pl-3",children:d.cargo.slice().sort((function(e,t){return e.good>t.good?1:t.good>e.good?-1:0})).map((function(e){return Object(me.jsxs)("p",{className:"text-sm py-0.5",children:[(t=e.good,t.toLowerCase().split("_").map((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})).join(" "))," (",e.quantity," units)"]},e.good+e.quantity+e.totalVolume+d.id);var t}))})]})]})]})};Fe.defaultProps={compact:!1,shipError:""};var Te=Fe,Ue=function(){var e=Object(o.c)((function(e){return e.user})),t=e.username,n=e.loans,r=e.ships,a=Object(o.c)((function(e){return e})).systems;return Object(me.jsx)(c.a.Fragment,{children:void 0===t?Object(me.jsx)(c.a.Fragment,{children:Object(me.jsx)(ve,{})}):Object(me.jsxs)(c.a.Fragment,{children:[Object(me.jsx)("p",{className:"text-gray-400",children:"Welcome"}),Object(me.jsx)("h2",{className:"text-3xl mb-4",children:t}),Object(me.jsx)("div",{children:a.map((function(e){return e.locations.map((function(e){return e.messages&&e.messages.length>0?Object(me.jsxs)("div",{className:"text-sm p-4 bg-blue-800 text-blue-200 rounded-sm",children:[Object(me.jsx)("p",{children:Object(p.a)(e.messages).slice(0,-2).join(" ")}),Object(me.jsx)(i.b,{to:"/systems/".concat(e.symbol),className:"underline text-xs mt-1 block",children:"View"})]},e.symbol):null}))}))}),Object(me.jsxs)("div",{className:"my-4 min-h-1/4",children:[Object(me.jsx)("h3",{className:"text-xl mb-4",children:"Loans"}),Object(me.jsx)("div",{className:"pl-5",children:0===n.filter((function(e){return e.status===j.Current})).length?Object(me.jsxs)("div",{children:[Object(me.jsx)("p",{children:"You have no loans!"}),Object(me.jsx)(i.b,{to:"/loans/available",className:"text-sm text-yellow-700 hover:text-blue-600",children:"Get a loan"})]}):Object(me.jsx)("div",{children:n.filter((function(e){return e.status===j.Current})).map((function(e){return Object(me.jsxs)("p",{children:[e.repaymentAmount.toLocaleString()," credits due ",Object(ke.a)(new Date(e.due),{addSuffix:!0})]},e.id)}))})})]}),Object(me.jsxs)("div",{className:"mb-4 min-h-1/4",children:[Object(me.jsx)("h3",{className:"text-xl mb-4",children:"Ships"}),Object(me.jsx)("div",{className:"pl-5 grid grid-cols-4 gap-3",children:0===r.length?Object(me.jsxs)("div",{children:[Object(me.jsx)("p",{children:"You have no ships :("}),Object(me.jsx)(i.b,{to:"/ships/available",className:"text-sm text-yellow-700 hover:text-blue-600",children:"Buy a ship"})]}):Object(p.a)(r).sort((function(e,t){return e.type>t.type?1:t.type>e.type?-1:0})).map((function(e){return Object(me.jsx)(Te,{ship:e,compact:!0},e.id)}))})]})]})})},Re=function(e){var t=e.handleClose,n=e.show,c=e.ship,a=Object(o.c)((function(e){return e.user})).credits,s=Object(o.c)((function(e){return e.account})),i=s.username,l=s.token,u=Object(o.b)(),d=Object(O.f)(),b=Object(r.useState)(!1),j=Object(f.a)(b,2),p=j[0],x=j[1],v=n?"fixed w-full h-full top-0 left-0 flex items-center justify-center text-gray-900":"hidden",g=function(){var e=Object(h.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c){e.next=2;break}return e.abrupt("return");case 2:return x(!0),e.next=5,ne(l,i,t,null===c||void 0===c?void 0:c.type);case 5:n=e.sent,u(k(n)),d.push("/ships");case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(e){return p?Object(me.jsx)("div",{}):a>e.price?Object(me.jsx)("button",{type:"button",className:"px-5 py-1 bg-green-500 rounded text-white hover:bg-green-400",onClick:function(){return g(e.location)},children:"Buy"}):Object(me.jsx)("span",{className:"text-xs text-yellow-500",children:"Insufficient credits"})};return Object(me.jsxs)("div",{className:v,children:[Object(me.jsx)("div",{className:"modal-overlay absolute w-full h-full bg-gray-900 opacity-50",onClick:t}),Object(me.jsx)("div",{className:"modal-container bg-white w-11/12 md:max-w-md mx-auto rounded shadow-lg z-50 overflow-y-auto",children:Object(me.jsxs)("div",{className:"modal-content py-4 text-left px-6",children:[Object(me.jsxs)("h3",{className:"text-xl font-semibold mb-6",children:["Purchase ",null===c||void 0===c?void 0:c.type]}),Object(me.jsxs)("p",{className:"text-sm mb-5",children:["This ship is available in ",null===c||void 0===c?void 0:c.purchaseLocations.length," ",(null===c||void 0===c?void 0:c.purchaseLocations)&&c.purchaseLocations.length>1?"locations":"location",":"]}),Object(me.jsx)("ul",{children:null===c||void 0===c?void 0:c.purchaseLocations.map((function(e){return Object(me.jsxs)("li",{className:"flex justify-between items-center my-3",children:[Object(me.jsxs)("span",{children:[e.location," for ",e.price.toLocaleString()," credits "]}),y(e)]},e.location+e.price)}))}),Object(me.jsx)("div",{className:"flex justify-end pt-2",children:p?Object(me.jsx)("p",{className:"text-sm text-yellow-500 italic",children:"Please Wait..."}):Object(me.jsx)("button",{type:"button",className:"px-4 py-1 text-red-500 text-sm border border-red-500 rounded hover:text-red-400 hover:border-red-400",onClick:t,children:"Close"})})]})})]})},We=function(){var e=Object(o.c)((function(e){return e})),t=Object(r.useState)(),n=Object(f.a)(t,2),a=n[0],s=n[1],i=Object(r.useState)(!1),l=Object(f.a)(i,2),u=l[0],d=l[1],b=Object(r.useState)("class"),j=Object(f.a)(b,2),x=j[0],O=j[1],v=Object(r.useState)(!1),g=Object(f.a)(v,2),y=g[0],w=g[1],N=Object(r.useState)(),k=Object(f.a)(N,2),C=k[0],S=k[1],L=function(){var t=Object(h.a)(m.a.mark((function t(){var n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ee(e.account.token,e.user.username);case 2:(n=t.sent).ships.sort((function(e,t){return e.type>t.type?1:t.type>e.type?-1:0})),s(n.ships);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),E=function(e){return e.purchaseLocations.reduce((function(e,t){return e.price<t.price?e:t})).price};return Object(r.useEffect)((function(){!function(e){if(a){var t;switch(e){case"cost":t=u?Object(p.a)(a).sort((function(e,t){return e.purchaseLocations[0].price>t.purchaseLocations[0].price?1:t.purchaseLocations[0].price>e.purchaseLocations[0].price?-1:0})):Object(p.a)(a).sort((function(e,t){return e.purchaseLocations[0].price<t.purchaseLocations[0].price?1:t.purchaseLocations[0].price<e.purchaseLocations[0].price?-1:0}));break;case"type":t=u?Object(p.a)(a).sort((function(e,t){return e.type<t.type?1:t.type<e.type?-1:0})):Object(p.a)(a).sort((function(e,t){return e.type>t.type?1:t.type>e.type?-1:0}));break;case"manufacturer":t=u?Object(p.a)(a).sort((function(e,t){return e.manufacturer>t.manufacturer?1:t.manufacturer>e.manufacturer?-1:0})):Object(p.a)(a).sort((function(e,t){return e.manufacturer<t.manufacturer?1:t.manufacturer<e.manufacturer?-1:0}));break;case"maxCargo":t=u?Object(p.a)(a).sort((function(e,t){return e.maxCargo>t.maxCargo?1:t.maxCargo>e.maxCargo?-1:0})):Object(p.a)(a).sort((function(e,t){return e.maxCargo<t.maxCargo?1:t.maxCargo<e.maxCargo?-1:0}));break;case"speed":t=u?Object(p.a)(a).sort((function(e,t){return e.speed>t.speed?1:t.speed>e.speed?-1:0})):Object(p.a)(a).sort((function(e,t){return e.speed<t.speed?1:t.speed<e.speed?-1:0}));break;case"plating":t=u?Object(p.a)(a).sort((function(e,t){return e.plating>t.plating?1:t.plating>e.plating?-1:0})):Object(p.a)(a).sort((function(e,t){return e.plating<t.plating?1:t.plating<e.plating?-1:0}));break;case"weapons":t=u?Object(p.a)(a).sort((function(e,t){return e.weapons>t.weapons?1:t.weapons>e.weapons?-1:0})):Object(p.a)(a).sort((function(e,t){return e.weapons<t.weapons?1:t.weapons<e.weapons?-1:0}));break;default:t=u?Object(p.a)(a).sort((function(e,t){return e.class>t.class?1:t.class>e.class?-1:0})):Object(p.a)(a).sort((function(e,t){return e.class<t.class?1:t.class<e.class?-1:0}))}s(t)}}(x)}),[x,u]),Object(r.useEffect)((function(){L()}),[]),Object(me.jsxs)(c.a.Fragment,{children:[Object(me.jsx)(Re,{show:y,ship:C,handleClose:function(){return w(!1)}}),Object(me.jsx)("h2",{className:"text-3xl mb-5",children:"Purchase Ships"}),Object(me.jsxs)("div",{className:"flex mb-5",children:[Object(me.jsx)("button",{type:"button",className:"cursor-pointer w-6 h-6",onClick:function(){return d(!u)},children:Object(me.jsxs)("svg",Object(Me.a)(Object(Me.a)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"#E5E7EB"},u?{transform:"rotate(180) scale(-1,1)"}:{}),{},{className:"origin-center",children:[Object(me.jsx)("path",{d:"M0 0h24v24H0V0z",fill:"none"}),Object(me.jsx)("path",{d:"M3 18h6v-2H3v2zM3 6v2h18V6H3zm0 7h12v-2H3v2z"})]}))}),Object(me.jsxs)("select",{name:"sort",id:"sort",className:"appearance-none bg-gray-800 text-gray-200 cursor-pointer",onChange:function(e){return O(e.target.value)},children:[Object(me.jsx)("option",{value:"type",children:"Name"}),Object(me.jsx)("option",{value:"manufacturer",children:"Manufacturer"}),Object(me.jsx)("option",{value:"cost",children:"Cost"}),Object(me.jsx)("option",{value:"maxCargo",children:"Max Cargo"}),Object(me.jsx)("option",{value:"speed",children:"Speed"}),Object(me.jsx)("option",{value:"plating",children:"Plating"}),Object(me.jsx)("option",{value:"weapons",children:"Weapons"})]})]}),Object(me.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[!a&&Object(me.jsxs)(c.a.Fragment,{children:[Object(me.jsx)("div",{className:"p-3 bg-gray-900 border border-gray-700 rounded",children:Object(me.jsx)(fe,{})}),Object(me.jsx)("div",{className:"p-3 bg-gray-900 border border-gray-700 rounded",children:Object(me.jsx)(fe,{})}),Object(me.jsx)("div",{className:"p-3 bg-gray-900 border border-gray-700 rounded",children:Object(me.jsx)(fe,{})})]}),null===a||void 0===a?void 0:a.map((function(t){return Object(me.jsxs)("button",{type:"button",className:"p-3 bg-gray-900 border border-gray-700 rounded hover:border-yellow-900 hover:shadow-xl",onClick:function(){w(!0),S(t)},children:[Object(me.jsxs)("div",{className:"flex justify-between items-center mb-5",children:[Object(me.jsxs)("div",{className:"text-left",children:[Object(me.jsx)("h3",{children:t.type}),Object(me.jsx)("p",{className:"text-xs text-gray-400",children:t.manufacturer})]}),Object(me.jsxs)("div",{className:"text-right",children:[Object(me.jsxs)("p",{className:"text-xs text-gray-400",children:[t.purchaseLocations.length," available"]}),Object(me.jsxs)("p",{className:"text-sm ".concat(E(t)>e.user.credits?"text-red-400":""),children:[E(t).toLocaleString()," credits"]})]})]}),Object(me.jsxs)("div",{className:"flex mt-3",children:[Object(me.jsx)("div",{className:"w-6 h-6 mr-3",children:Object(me.jsx)("svg",{version:"1.1",fill:"#E5E7EB",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 485.32 485.32",enableBackground:"new 0 0 485.32 485.32",children:Object(me.jsx)("g",{children:Object(me.jsx)("path",{d:"m480.76,79.05c-0.6-0.2-235-78.3-235-78.3-2.1-1-4.1-1-6.2,0l-231.9,76.3c-5.8,2.4-7.2,7.4-7.2,10.3v313.3c0,5.2 3.1,9.3 7.2,10.3l229,73.2c3.5,1.3 7.3,1.8 12.1,0l228.9-73.2c4.1-2.1 7.2-6.2 7.2-10.3v-313.3c5.68434e-14-3.1-1-6.2-4.1-8.3zm-238.1-56.7l198.9,63.9-75.1,24.1-196-64.5 72.2-23.5zm-10.3,438l-211.3-67v-291.4l211.3,67.6v290.8zm10.3-310.2l-198.9-62.8 93.7-30.6 195.3,64.5-90.1,28.9zm10.3,310.2v-291.6l105.1-33.3v32.3l20.6-8.8v-30l85.5-27v290.4h0.1l-211.3,68z"})})})}),Object(me.jsx)("p",{children:t.maxCargo})]}),Object(me.jsxs)("div",{className:"flex mt-3",children:[Object(me.jsx)("div",{className:"w-6 h-6 mr-3",children:Object(me.jsx)("svg",{fill:"#E5E7EB",enableBackground:"new 0 0 512 512",viewBox:"0 0 512 512",xmlns:"http://www.w3.org/2000/svg",children:Object(me.jsx)("path",{d:"m512 358.121c0-68.38-26.629-132.667-74.98-181.02-48.353-48.352-112.64-74.98-181.02-74.98s-132.667 26.629-181.02 74.98c-48.351 48.353-74.98 112.64-74.98 181.02v15h205.016c4.085 12.323 12.371 22.642 23.657 29.305 8.558 5.052 17.953 7.453 27.236 7.453 18.406 0 36.36-9.448 46.376-26.413 1.956-3.313 3.522-6.781 4.717-10.345h204.998zm-235.548 10.093c-6.656 11.276-21.247 15.037-32.526 8.378-5.463-3.225-9.343-8.384-10.925-14.528-1.583-6.144-.679-12.535 2.547-17.998s8.385-9.343 14.528-10.925c1.976-.509 3.977-.76 5.964-.76 4.194 0 8.328 1.12 12.034 3.308 5.463 3.225 9.343 8.384 10.925 14.528 1.583 6.143.679 12.535-2.547 17.997zm31.689-25.093c-.032-.129-.057-.259-.09-.388-2.296-8.916-6.74-16.908-12.887-23.425l43.106-73.015-25.834-15.252-43.106 73.015c-8.675-2.233-17.819-2.264-26.737.032-13.903 3.581-25.58 12.362-32.879 24.726-2.674 4.53-4.636 9.344-5.882 14.307h-173.34c1.992-30.247 9.976-58.88 22.75-84.742l33.311 19.232 15-25.98-33.274-19.21c16.444-24.477 37.541-45.578 62.018-62.022l19.212 33.276 25.98-15-19.236-33.318c25.861-12.774 54.5-20.737 84.746-22.729v38.493h30v-38.493c30.246 1.992 58.885 9.955 84.746 22.729l-19.236 33.318 25.98 15 19.212-33.276c24.477 16.444 45.573 37.545 62.018 62.022l-33.274 19.21 15 25.98 33.311-19.232c12.774 25.862 20.758 54.495 22.75 84.742z"})})}),Object(me.jsx)("p",{children:t.speed})]}),Object(me.jsxs)("div",{className:"flex mt-3",children:[Object(me.jsx)("div",{className:"w-6 h-6 mr-3",children:Object(me.jsx)("svg",{version:"1.1",fill:"#E5E7EB",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 512 512",children:Object(me.jsx)("g",{children:Object(me.jsx)("path",{d:"M461.144,60.883L260.312,0.633c-2.809-0.844-5.808-0.844-8.62,0L50.858,60.883c-6.345,1.903-10.69,7.743-10.69,14.367 v220.916c0,28.734,11.632,58.148,34.573,87.425c17.522,22.36,41.762,44.813,72.048,66.736 c50.877,36.828,100.975,59.42,103.083,60.363c1.95,0.873,4.039,1.31,6.129,1.31c2.089,0,4.179-0.436,6.129-1.31 c2.108-0.943,52.205-23.535,103.082-60.363c30.285-21.923,54.525-44.376,72.047-66.736c22.941-29.276,34.573-58.69,34.573-87.425 V75.25C471.833,68.626,467.489,62.786,461.144,60.883z M441.833,296.166c0,50.852-51.023,98.534-93.826,129.581 c-38.374,27.833-77.291,47.583-92.005,54.678c-14.714-7.095-53.632-26.845-92.006-54.678 c-42.804-31.047-93.828-78.729-93.828-129.581V86.41l185.833-55.75l185.832,55.75V296.166z"})})})}),Object(me.jsx)("p",{children:t.plating})]}),Object(me.jsxs)("div",{className:"flex mt-3",children:[Object(me.jsx)("div",{className:"w-6 h-6 mr-3",children:Object(me.jsx)("svg",{fill:"#E5E7EB",enableBackground:"new 0 0 510.192 510.192",viewBox:"0 0 510.192 510.192",xmlns:"http://www.w3.org/2000/svg",children:Object(me.jsx)("g",{children:Object(me.jsx)("path",{d:"m510.192 0-122.656 13.628-300.462 300.463-22.694-22.694 33.301-33.3-21.213-21.213-54.514 54.513c10.689 10.689 55.253 55.254 65.86 65.861l-87.814 87.814 65.12 65.12 87.813-87.814c10.633 10.632 55.212 55.211 65.861 65.86l54.513-54.514-21.213-21.213-33.3 33.301-22.694-22.693 300.464-300.463zm-467.766 445.072 22.693-22.694 22.695 22.695-22.694 22.693zm66.602-21.212-22.695-22.695 22.694-22.693 22.694 22.694zm358.881-314.976-293.022 293.022-22.693-22.694 252.835-252.835-21.213-21.213-252.835 252.835-22.694-22.693 293.021-293.023 74.927-8.325z"})})})}),Object(me.jsx)("p",{children:t.weapons})]})]},t.class+t.speed+t.manufacturer+t.maxCargo)}))]})]})},qe=n(57),Ve=n.n(qe),Ge=function(e){var t,n=e.sortOrder,c=e.sortType,a=e.system,s=e.ships,i=e.setShipError,l=Object(o.c)((function(e){return e})).systems,u=Object(r.useState)("auto"),d=Object(f.a)(u,2),b=d[0],j=d[1];return Object(me.jsxs)("div",{className:"mb-10",children:[Object(me.jsxs)("button",{type:"button",className:"flex items-center border-b border-gray-600 pb-2 mb-4",onClick:function(){j(0===b?"auto":0)},children:[Object(me.jsx)("span",{className:"mr-2 mt-0.5 ".concat("auto"===b?"arrow-down":"arrow-up")}),Object(me.jsx)("h3",{className:"text-xl",children:null===(t=l.find((function(e){return e.symbol===a})))||void 0===t?void 0:t.name})]}),Object(me.jsx)(Ve.a,{id:"locations-".concat(a),className:"locations-".concat(a),duration:250,height:b,children:Object(me.jsx)("div",{className:"grid grid-cols-4 gap-4",children:function(e){switch(c){case"class":return Object(p.a)(e).sort((function(e,t){return n?t.class.localeCompare(e.class):e.class.localeCompare(t.class)}));case"type":return Object(p.a)(e).sort((function(e,t){return n?t.type.localeCompare(e.type):e.type.localeCompare(t.type)}));case"manufacturer":return Object(p.a)(e).sort((function(e,t){return n?e.manufacturer.localeCompare(t.manufacturer):t.manufacturer.localeCompare(e.manufacturer)}));case"maxCargo":return n?Object(p.a)(e).sort((function(e,t){return e.maxCargo>t.maxCargo?1:t.maxCargo>e.maxCargo?-1:0})):Object(p.a)(e).sort((function(e,t){return e.maxCargo<t.maxCargo?1:t.maxCargo<e.maxCargo?-1:0}));case"speed":return n?Object(p.a)(e).sort((function(e,t){return e.speed>t.speed?1:t.speed>e.speed?-1:0})):Object(p.a)(e).sort((function(e,t){return e.speed<t.speed?1:t.speed<e.speed?-1:0}));case"plating":return n?Object(p.a)(e).sort((function(e,t){return e.plating>t.plating?1:t.plating>e.plating?-1:0})):Object(p.a)(e).sort((function(e,t){return e.plating<t.plating?1:t.plating<e.plating?-1:0}));case"weaponse":return n?Object(p.a)(e).sort((function(e,t){return e.weapons>t.weapons?1:t.weapons>e.weapons?-1:0})):Object(p.a)(e).sort((function(e,t){return e.weapons<t.weapons?1:t.weapons<e.weapons?-1:0}));default:return e}}(s).map((function(e){return Object(me.jsx)(Te,{ship:e,shipError:function(e){return i(e)}},e.id)}))})})]})},He=function(){var e=Object(o.c)((function(e){return e.user})).ships,t=Object(o.c)((function(e){return e})).flightPlans,n=Object(r.useState)(),a=Object(f.a)(n,2),s=a[0],i=a[1],l=Object(r.useState)(!1),u=Object(f.a)(l,2),d=u[0],b=u[1],j=Object(r.useState)("type"),p=Object(f.a)(j,2),x=p[0],m=p[1],h=Object(r.useState)(""),O=Object(f.a)(h,2),v=O[0],g=O[1];return Object(r.useEffect)((function(){var n={};e.forEach((function(e){if(e.location)n[e.location.split("-")[0]]||(n[e.location.split("-")[0]]=[]),n[e.location.split("-")[0]].push(e);else if(e.flightPlanId||t.some((function(t){return t.shipId===e.id}))){var r,c=null===(r=t.find((function(t){return t.shipId===e.id})))||void 0===r?void 0:r.destination.split("-")[0];(n[c]=n[c]||[]).push(e)}else(n.UNKNOWN=n.UNKNOWN||[]).push(e)}));var r=Object.keys(n).sort().reduce((function(e,t){return e[t]=n[t],e}),{});i(r)}),[e,t]),Object(me.jsxs)(c.a.Fragment,{children:[Object(me.jsx)("h2",{className:"text-3xl mb-5",children:"Your Ships"}),""!==v&&Object(me.jsxs)("div",{className:"flex justify-between items-center text-sm py-3 px-2 bg-red-400 text-red-900 mb-5",children:[Object(me.jsx)("p",{children:v}),Object(me.jsx)("button",{className:"w-4 h-4 hover:text-red-700",type:"button",onClick:function(){return g("")},children:Object(me.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(me.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),Object(me.jsxs)("div",{className:"flex mb-5",children:[Object(me.jsx)("button",{type:"button",className:"cursor-pointer w-6 h-6",onClick:function(){return b(!d)},children:Object(me.jsxs)("svg",Object(Me.a)(Object(Me.a)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"#E5E7EB"},d?{transform:"rotate(180) scale(-1,1)"}:{}),{},{className:"origin-center",children:[Object(me.jsx)("path",{d:"M0 0h24v24H0V0z",fill:"none"}),Object(me.jsx)("path",{d:"M3 18h6v-2H3v2zM3 6v2h18V6H3zm0 7h12v-2H3v2z"})]}))}),Object(me.jsxs)("select",{name:"sort",id:"sort",className:"appearance-none bg-gray-800 text-gray-200 cursor-pointer",onChange:function(e){return m(e.target.value)},children:[Object(me.jsx)("option",{value:"type",children:"Name"}),Object(me.jsx)("option",{value:"manufacturer",children:"Manufacturer"}),Object(me.jsx)("option",{value:"cost",children:"Cost"}),Object(me.jsx)("option",{value:"maxCargo",children:"Max Cargo"}),Object(me.jsx)("option",{value:"speed",children:"Speed"}),Object(me.jsx)("option",{value:"plating",children:"Plating"}),Object(me.jsx)("option",{value:"weapons",children:"Weapons"})]})]}),Object(me.jsx)("div",{children:s&&Object.keys(s).map((function(e){return Object(me.jsx)(Ge,{system:e,ships:s[e],sortOrder:d,sortType:x,setShipError:g},e)}))})]})},_e=function(){return Object(me.jsxs)("div",{children:[Object(me.jsxs)("div",{className:"text-sm mb-5",children:[Object(me.jsx)(i.c,{exact:!0,to:"/ships",className:"mr-4 pb-1",activeClassName:"subMenuActive",children:"Owned"}),Object(me.jsx)(i.c,{exact:!0,to:"/ships/available",className:"mr-4 pb-1",activeClassName:"subMenuActive",children:"Purchase"})]}),Object(me.jsxs)(O.c,{children:[Object(me.jsx)(O.a,{exact:!0,path:"/ships",component:He}),Object(me.jsx)(O.a,{path:"/ships/available",component:We})]})]})},Je=function(){var e=Object(o.c)((function(e){return e.account.token})),t=Object(o.c)((function(e){return e.systems})),n=Object(o.b)(),a=Object(r.useState)([]),s=Object(f.a)(a,2),l=s[0],u=s[1];return Object(r.useEffect)((function(){(function(){var r=Object(h.a)(m.a.mark((function r(){var c;return m.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(0!==t.length){r.next=5;break}return r.next=3,ce(e);case 3:c=r.sent.systems,n(F(c));case 5:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}})()()}),[]),Object(r.useEffect)((function(){var e=[];t.forEach((function(t){var n={symbol:t.symbol,name:t.name,locations:[]};e.push(n),t.locations.forEach((function(e){var t;e.type!==d.Moon?n.locations.push({parent:e,satellites:[]}):null===(t=n.locations.find((function(t){return t.parent.symbol==="".concat(e.symbol.split("-")[0],"-").concat(e.symbol.split("-")[1])})))||void 0===t||t.satellites.push(e)}))})),u(e)}),[t]),Object(me.jsx)(c.a.Fragment,{children:Object(me.jsx)("div",{className:"h-1/4",children:l&&Object(me.jsx)(c.a.Fragment,{children:Object(me.jsx)("div",{className:"grid gap-3 grid-cols-4 mt-4",children:l.map((function(e){return Object(me.jsxs)("div",{children:[Object(me.jsx)("h2",{className:"text-3xl",children:e.name}),Object(me.jsx)("ul",{className:"mt-3 pl-5",children:e.locations.map((function(e){return Object(me.jsxs)(c.a.Fragment,{children:[Object(me.jsx)("li",{className:"py-1 underline hover:text-yellow-600 w-max",children:Object(me.jsx)(i.b,{to:"systems/".concat(e.parent.symbol),children:e.parent.name})}),e.satellites.length>0&&Object(me.jsx)("ul",{className:"pl-5",children:e.satellites.map((function(e){return Object(me.jsx)("li",{className:"py-1 underline hover:text-yellow-600 w-max",children:Object(me.jsx)(i.b,{to:"systems/".concat(e.symbol),children:e.name})},e.symbol)}))})]},e.parent.symbol)}))})]},e.symbol)}))})})})})},Ke=function(){var e,t=Object(o.c)((function(e){return e.account})).token,n=Object(O.g)().location,a=Object(r.useState)(),s=Object(f.a)(a,2),i=s[0],l=s[1],u=Object(r.useState)(),d=Object(f.a)(u,2),b=(d[0],d[1]);Object(r.useEffect)((function(){(function(){var e=Object(h.a)(m.a.mark((function e(){var r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,se(t,n);case 3:r=e.sent,l(r.location),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),b(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[]);return Object(me.jsxs)(c.a.Fragment,{children:[Object(me.jsxs)("div",{className:"mb-4",children:[Object(me.jsx)("h2",{className:"text-3xl",children:null===i||void 0===i?void 0:i.name}),Object(me.jsxs)("h3",{children:["(",n,")"]})]}),(null===i||void 0===i?void 0:i.messages)&&Object(me.jsx)("div",{className:"text-sm mb-4 p-4 bg-blue-800 text-blue-200 rounded-sm",children:Object(me.jsx)("p",{children:Object(p.a)(i.messages).slice(0,-2).join(" ")})}),(null===i||void 0===i?void 0:i.structures)&&Object(me.jsxs)(c.a.Fragment,{children:[Object(me.jsx)("p",{className:"mb-2 text-lg border-b border-gray-500 w-max",children:"Structures"}),null===i||void 0===i||null===(e=i.structures)||void 0===e?void 0:e.map((function(e){return Object(me.jsxs)("div",{children:[Object(me.jsx)("p",{className:"font-bold",children:e.name}),Object(me.jsx)("p",{className:"text-sm mb-2 text-gray-400",children:e.completed?"Completed":"Not completed"}),Object(me.jsx)("ul",{className:"pl-3",children:e.materials.slice().sort((function(e,t){return e.good.localeCompare(t.good)})).map((function(e){return Object(me.jsxs)("li",{className:"py-1",children:[Object(me.jsxs)("p",{children:[(t=e.good,t.toLowerCase().split("_").map((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})).join(" "))," - ","".concat((Math.round(e.quantity/e.targetQuantity*100*10)/10).toFixed(1),"%")]}),Object(me.jsx)("p",{className:"text-sm text-gray-400",children:"".concat(e.quantity.toLocaleString()," of ").concat(e.targetQuantity.toLocaleString())})]},e.good);var t}))})]},e.id)}))]})]})},Ye=function(e){var t=e.handleClose,n=e.show,a=e.loan,s=Object(O.f)(),i=Object(o.b)(),l=Object(o.c)((function(e){return e.account})),d=Object(r.useState)(!1),b=Object(f.a)(d,2),j=b[0],p=b[1],x=Object(r.useState)(""),v=Object(f.a)(x,2),g=v[0],y=v[1],w=n?"fixed w-full h-full top-0 left-0 flex items-center justify-center text-gray-900":"hidden";Object(r.useEffect)((function(){p(!1),y("")}),[a]);var N=function(){var e=Object(h.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(!0),e.prev=1,e.next=4,Z(l.username,l.token,u.Startup);case 4:t=e.sent,i(k(t)),s.push("/loans"),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),p(!1),y(e.t0.message);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}();return Object(me.jsxs)("div",{className:w,children:[Object(me.jsx)("div",{className:"modal-overlay absolute w-full h-full bg-gray-900 opacity-50",onClick:t}),Object(me.jsx)("div",{className:"modal-container bg-white w-11/12 md:max-w-md mx-auto rounded shadow-lg z-50 overflow-y-auto",children:Object(me.jsxs)("div",{className:"modal-content py-4 text-left px-6",children:[Object(me.jsx)("h3",{className:"text-xl font-semibold mb-6",children:"Request the following loan"}),Object(me.jsxs)("div",{className:"mb-4",children:[Object(me.jsx)("p",{className:"text-sm text-gray-500",children:"Loan amount"}),Object(me.jsxs)("p",{children:[null===a||void 0===a?void 0:a.amount.toLocaleString()," credits"]})]}),Object(me.jsxs)("div",{className:"mb-4",children:[Object(me.jsx)("p",{className:"text-sm text-gray-500",children:"Repayment Due"}),Object(me.jsxs)("p",{children:[null===a||void 0===a?void 0:a.termInDays," day",a&&(null===a||void 0===a?void 0:a.termInDays)>1?"s":""]})]}),Object(me.jsxs)("div",{className:"mb-4",children:[Object(me.jsx)("p",{className:"text-sm text-gray-500",children:"Repayment Amount"}),Object(me.jsxs)("p",{children:[a&&(a.amount+a.amount*(a.rate/100)).toLocaleString()," "," credits"]})]}),g&&Object(me.jsx)("div",{className:"bg-red-300 text-red-800 px-4 py-3 mb-4 text-center",children:Object(me.jsx)("p",{children:g})}),Object(me.jsx)("div",{className:"flex justify-end pt-2",children:j?Object(me.jsx)("p",{className:"text-sm text-yellow-500 italic",children:"Please Wait..."}):Object(me.jsxs)(c.a.Fragment,{children:[Object(me.jsx)("button",{type:"button",className:"px-4 py-2 text-red-500 text-sm rounded mr-4 hover:text-red-400",onClick:t,children:"Close"}),Object(me.jsx)("button",{type:"button",className:"w-1/4 px-4 py-2 text-white text-sm bg-green-500 rounded hover:bg-green-400 disabled:opacity-50 disabled:cursor-default disabled:bg-green-500",disabled:j||g.length>0,onClick:N,children:"Get Loan"})]})})]})})]})},Qe=function(){var e=Object(o.c)((function(e){return e.account})),t=Object(r.useState)(),n=Object(f.a)(t,2),a=n[0],s=n[1],i=Object(r.useState)(!1),l=Object(f.a)(i,2),u=l[0],d=l[1],b=Object(r.useState)(),j=Object(f.a)(b,2),p=j[0],x=j[1];return Object(r.useEffect)((function(){(function(){var t=Object(h.a)(m.a.mark((function t(){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=s,t.next=3,X(e.token);case 3:t.t1=t.sent.loans,(0,t.t0)(t.t1);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[]),Object(me.jsxs)(c.a.Fragment,{children:[Object(me.jsx)(Ye,{show:u,loan:p,handleClose:function(){d(!1),x(void 0)}}),Object(me.jsx)("h2",{className:"text-3xl mb-5",children:"Available Loans"}),Object(me.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[!a&&Object(me.jsxs)(c.a.Fragment,{children:[Object(me.jsx)("div",{className:"p-3 bg-gray-900 border border-gray-700 rounded",children:Object(me.jsx)(fe,{})}),Object(me.jsx)("div",{className:"p-3 bg-gray-900 border border-gray-700 rounded",children:Object(me.jsx)(fe,{})}),Object(me.jsx)("div",{className:"p-3 bg-gray-900 border border-gray-700 rounded",children:Object(me.jsx)(fe,{})})]}),null===a||void 0===a?void 0:a.map((function(e){return Object(me.jsxs)("button",{type:"button",className:"p-3 bg-gray-900 border border-gray-700 rounded text-left hover:border-yellow-900 hover:shadow-xl",onClick:function(){d(!0),x(e)},children:[Object(me.jsxs)("div",{className:"flex justify-between items-start",children:[Object(me.jsxs)("div",{className:"flex items-center",children:[Object(me.jsx)("div",{className:"w-6 h-6 mr-2",children:Object(me.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(me.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.1,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),Object(me.jsx)("h3",{className:"text-lg",children:e.amount.toLocaleString()})]}),Object(me.jsx)("div",{children:e.collateralRequired&&Object(me.jsx)("p",{className:"text-red-400",children:"Collateral Required"})})]}),Object(me.jsx)("p",{className:"text-xs text-gray-400",children:e.type}),Object(me.jsxs)("div",{className:"mt-5",children:[Object(me.jsxs)("div",{className:"flex mt-3",children:[Object(me.jsx)("div",{className:"w-6 h-6 mr-3",title:"Term",children:Object(me.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(me.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),Object(me.jsx)("p",{children:e.termInDays})]}),Object(me.jsxs)("div",{className:"flex mt-3",children:[Object(me.jsx)("p",{className:"text-xl text-center w-6 h-6 mr-3",title:"Origination fee",children:"%"}),Object(me.jsxs)("p",{children:[Object(me.jsxs)("span",{children:[e.rate," "]}),Object(me.jsxs)("span",{className:"text-gray-400 text-sm",children:["(",e.amount*(e.rate/100)," ","credits)"]})]})]}),Object(me.jsxs)("p",{className:"mt-3 pt-3 text-sm border-t border-gray-700",children:["Total repayment cost:"," ",(e.amount+e.amount*(e.rate/100)).toLocaleString()," ","credits"]})]})]},e.amount+e.type+e.rate)}))]})]})},Xe=function(){var e=Object(o.c)((function(e){return e.account})),t=e.username,n=e.token,a=Object(o.c)((function(e){return e.user})),s=a.loans,i=a.credits,l=Object(o.b)(),u=Object(r.useState)(),d=Object(f.a)(u,2),b=d[0],x=d[1],O=function(){var e=Object(h.a)(m.a.mark((function e(r){var c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,$(t,n,r);case 3:c=e.sent,l(T(c.user.loans)),x({type:"Success",message:"Loan repayed successfully!"}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),x({type:"Error",message:e.t0.message});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(me.jsxs)(c.a.Fragment,{children:[Object(me.jsx)("h2",{className:"text-3xl mb-5",children:"Your Loans"}),b&&Object(me.jsxs)("div",{className:"flex justify-between items-center text-sm py-3 px-3 mb-5 ".concat("Success"===b.type?"bg-green-400 text-green-900":"bg-red-400 text-red-900"),children:[Object(me.jsx)("p",{children:b.message}),Object(me.jsx)("button",{className:"w-4 h-4 ".concat("Success"===b.type?"hover:text-green-700":"hover:text-red-700"),type:"button",onClick:function(){return x(void 0)},children:Object(me.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(me.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),Object(me.jsx)("h3",{className:"text-lg mb-4",children:"Current Loans"}),Object(me.jsx)("div",{className:"grid grid-cols-4 gap-4",children:Object(p.a)(s).filter((function(e){return e.status===j.Current})).length>0?Object(p.a)(s).filter((function(e){return e.status===j.Current})).map((function(e){return Object(me.jsxs)("div",{className:"p-3 bg-gray-900 border border-gray-700 rounded text-left",children:[Object(me.jsxs)("div",{className:"mb-3",children:[Object(me.jsx)("p",{className:"text-xs text-gray-400",children:"Repayment Amount"}),Object(me.jsxs)("p",{children:[e.repaymentAmount.toLocaleString()," credits"]})]}),Object(me.jsxs)("div",{children:[Object(me.jsx)("p",{className:"text-xs text-gray-400",children:"Due"}),Object(me.jsx)("p",{children:Object(ke.a)(new Date(e.due),{addSuffix:!0})})]}),i>e.repaymentAmount&&Object(me.jsx)("div",{className:"mt-3",children:Object(me.jsx)("button",{type:"button",className:"py-1 px-2 bg-blue-500 rounded hover:bg-blue-600",onClick:function(){return O(e.id)},children:"Repay"})})]},e.id)})):Object(me.jsx)("p",{className:"text-sm ml-4",children:"You have no open loans"})}),Object(me.jsx)("h3",{className:"text-lg my-4",children:"Closed Loans"}),Object(me.jsx)("div",{className:"grid grid-cols-4 gap-4",children:Object(p.a)(s).filter((function(e){return e.status!==j.Current})).map((function(e){return Object(me.jsxs)("div",{className:"p-3 bg-gray-900 border border-gray-700 rounded text-left",children:[Object(me.jsxs)("div",{className:"mb-3",children:[Object(me.jsx)("p",{className:"text-xs text-gray-400",children:"Repayment Amount"}),Object(me.jsxs)("p",{children:[e.repaymentAmount.toLocaleString()," credits"]})]}),Object(me.jsxs)("div",{children:[Object(me.jsx)("p",{className:"text-xs text-gray-400",children:"Status"}),Object(me.jsx)("p",{children:(t=e.status,t.toLowerCase().split("_").map((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})).join(" "))})]})]},e.id);var t}))})]})},Ze=function(){return Object(me.jsxs)("div",{children:[Object(me.jsxs)("div",{className:"text-sm mb-5",children:[Object(me.jsx)(i.c,{exact:!0,to:"/loans",className:"mr-4 pb-1",activeClassName:"subMenuActive",children:"Your Loans"}),Object(me.jsx)(i.c,{exact:!0,to:"/loans/available",className:"mr-4 pb-1",activeClassName:"subMenuActive",children:"Get a Loan"})]}),Object(me.jsxs)(O.c,{children:[Object(me.jsx)(O.a,{exact:!0,path:"/loans",component:Xe}),Object(me.jsx)(O.a,{path:"/loans/available",component:Qe})]})]})},$e=function(){var e=Object(o.c)((function(e){return e.account})).token,t=Object(o.c)((function(e){return e.user})).ships,n=Object(o.c)((function(e){return e.marketData})),a=Object(o.c)((function(e){return e.systems})),s=Object(o.b)(),i=Object(r.useState)(),l=Object(f.a)(i,2),u=l[0],d=l[1],b=Object(r.useState)(Date.now()),j=Object(f.a)(b,2),p=j[0],x=j[1],O=Object(r.useState)(),v=Object(f.a)(O,2),g=v[0],y=v[1],w=function(){var t=Object(h.a)(m.a.mark((function t(n){var r;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return y(n),d(void 0),t.next=4,ae(e,n);case 4:r=t.sent.locations,d(r);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();Object(r.useEffect)((function(){(function(){var t=Object(h.a)(m.a.mark((function t(){var n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==a.length){t.next=5;break}return t.next=3,ce(e);case 3:n=t.sent.systems,s(F(n));case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()();var t=setInterval((function(){return x(Date.now())}),6e4);return function(){return clearInterval(t)}}),[]),Object(r.useEffect)((function(){0!==a.length&&w(a[0].symbol)}),[a]),Object(r.useEffect)((function(){(function(){var n=Object(h.a)(m.a.mark((function n(){return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:null===u||void 0===u||u.forEach(function(){var n=Object(h.a)(m.a.mark((function n(r){var c;return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.some((function(e){return e.location===r.symbol}))){n.next=5;break}return n.next=3,oe(e,r.symbol);case 3:c=n.sent,s(A({updatedAt:Date.now(),planet:c.location}));case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}());case 1:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}})()()}),[u,t]);var N=function(e){var t=n.find((function(t){return t.planet.symbol===e.symbol}));return t&&0!==(null===t||void 0===t?void 0:t.planet.marketplace.length)?null===t||void 0===t?void 0:t.planet.marketplace.slice().sort((function(e,t){return e.symbol>t.symbol?1:t.symbol>e.symbol?-1:0})).map((function(e){return Object(me.jsxs)("div",{className:"text-sm my-3",children:[Object(me.jsx)("p",{className:"font-bold",children:(t=e.symbol,t.toLowerCase().split("_").map((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})).join(" "))}),Object(me.jsxs)("p",{className:"pl-2",children:["Quantity: ",e.quantityAvailable.toLocaleString()]}),Object(me.jsxs)("p",{className:"pl-2",children:["Buy: ",e.purchasePricePerUnit.toLocaleString()," credits"]}),Object(me.jsxs)("p",{className:"pl-2",children:["Sell: ",e.sellPricePerUnit.toLocaleString()," credits"]})]},e.symbol+e.pricePerUnit+e.volumePerUnit);var t})):Object(me.jsx)("p",{className:"mt-3 text-sm text-gray-400",children:"No data available"})},k=function(e){var t=n.find((function(t){return t.planet.symbol===e.symbol}));return t?"Updated ".concat(Object(ke.a)(new Date(t.updatedAt),{addSuffix:!0})):null};return Object(me.jsxs)(c.a.Fragment,{children:[Object(me.jsx)("h2",{className:"text-3xl mb-5",children:"Markets"}),Object(me.jsx)("p",{className:"text-xs text-gray-400 mb-1",children:"System"}),a.map((function(e){return Object(me.jsx)("button",{type:"button",className:"text-sm mr-4 pb-1 mb-5 ".concat(g===e.symbol?"subMenuActive":""),value:e.symbol,onClick:function(e){return w(e.currentTarget.value)},children:e.name},e.symbol)})),Object(me.jsx)("div",{className:"grid grid-cols-4 gap-4",children:u?u.sort((function(e,t){return e.name>t.name?1:t.name>e.name?-1:0})).map((function(e){return Object(me.jsxs)("div",{className:"p-3 bg-gray-900 border border-gray-700 rounded",children:[Object(me.jsxs)("div",{className:"flex justify-between items-center pb-2 border-b border-gray-700",children:[Object(me.jsx)("h3",{className:"text-xl",children:e.name}),Object(me.jsx)("p",{className:"text-xs text-gray-400",children:p&&k(e)})]}),N(e)]},e.symbol)})):Object(me.jsx)(ye,{})})]})};var et=function(e){var t=e.Worker,n=Object(r.useState)([]),a=Object(f.a)(n,2),s=a[0],i=a[1],u=Object(o.c)((function(e){return e})),d=u.account,b=u.automations,j=u.user,x=Object(o.b)(),v=localStorage.getItem("apiKey");Object(r.useEffect)((function(){if(void 0!==v&&null!==v){var e=JSON.parse(v);x(C(e)),function(){var t=Object(h.a)(m.a.mark((function t(){var n,r,c,a;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Q(e.username,e.token);case 3:if(n=t.sent,x(k(n)),!n.user.ships.some((function(e){return void 0===e.location}))){t.next=11;break}return t.next=8,te(e.token,e.username);case 8:r=t.sent,r.ships.forEach(function(){var t=Object(h.a)(m.a.mark((function t(n){var r,c;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n.flightPlanId){t.next=6;break}return t.next=3,je(e.token,e.username,n.flightPlanId);case 3:r=t.sent,null===(c=r.flightPlan).terminatedAt&&x(E(c));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 11:(function(){var t=Object(h.a)(m.a.mark((function t(){var n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ce(e.token);case 2:n=t.sent.systems,x(F(n));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()(),c=localStorage.getItem("marketData"),null===(a=null!==c?JSON.parse(c):null)||void 0===a||a.map((function(e){return x(A(e))})),t.next=21;break;case 18:t.prev=18,t.t0=t.catch(0),"Invalid username or token."===t.t0.message&&(x(z()),localStorage.removeItem("apiKey"));case 21:case"end":return t.stop()}}),t,null,[[0,18]])})));return function(){return t.apply(this,arguments)}}()()}}),[]);var g=function(e){console.log(e),x(B({shipId:e.shipId,enabled:!1})),x(M(e))},y=function(){var e=Object(h.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.type===K.Travel?x(E(t.data)):(x(S(t.data.credits)),x(L(t.data.ship)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(e){e.setMarketData(localStorage.getItem("marketData"))},N=function(e){x(A({updatedAt:Date.now(),planet:e.location}))};return Object(r.useEffect)((function(){b.forEach(function(){var e=Object(h.a)(m.a.mark((function e(n){var r,c,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.find((function(e){return e.shipId===n.shipId})),!n.enabled||r){e.next=9;break}return c=j.ships.find((function(e){return e.id===n.shipId})),e.next=5,new t(d.token,d.username,n,c,j.credits,localStorage.getItem("marketData"),l.a(g),l.a(y),l.a(w),l.a(N));case 5:return a=e.sent,e.next=8,a.run();case 8:i([].concat(Object(p.a)(s),[{shipId:n.shipId,instance:a}]));case 9:if(n.enabled||!r){e.next=13;break}return e.next=12,r.instance.stop();case 12:i(s.filter((function(e){return e.shipId!==r.shipId})));case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[b]),Object(me.jsx)(c.a.Fragment,{children:void 0===d.token||null===d.token||0===d.token.length||void 0===d.username||null===d.username||0===d.username.length?Object(me.jsx)(Ne,{}):Object(me.jsxs)(c.a.Fragment,{children:[Object(me.jsx)(we,{}),Object(me.jsx)("div",{className:"bg-gray-800 py-4 flex-grow text-gray-200",children:Object(me.jsx)("div",{className:"container min-h-full mx-auto",children:0!==d.token.length&&Object(me.jsxs)(O.c,{children:[Object(me.jsx)(O.a,{exact:!0,path:"/",component:Ue}),Object(me.jsx)(O.a,{path:"/ships",component:_e}),Object(me.jsx)(O.a,{path:"/loans",component:Ze}),Object(me.jsx)(O.a,{path:"/markets",component:$e}),Object(me.jsx)(O.a,{path:"/systems/:location",component:Ke}),Object(me.jsx)(r.Suspense,{fallback:Object(me.jsx)("div",{}),children:Object(me.jsx)(O.a,{exact:!0,path:"/systems",component:Je})})]})})})]})})},tt=l.b(new function(){return new Worker(n.p+"static/js/webworker.ab1cebb8.worker.js")});s.a.render(Object(me.jsx)(c.a.StrictMode,{children:Object(me.jsx)(o.a,{store:R,children:Object(me.jsx)(i.a,{basename:"/Vocivos",children:Object(me.jsx)(et,{Worker:tt})})})}),document.getElementById("root"))}},[[93,1,2]]]);
//# sourceMappingURL=main.e34d9247.chunk.js.map