(this.webpackJsonpvocivos=this.webpackJsonpvocivos||[]).push([[0],{62:function(e,t,n){},67:function(e,t,n){"use strict";n.r(t);var c,r=n(1),a=n.n(r),s=n(32),o=n.n(s),i=n(8),l=n(15),u=n(3),d=n.n(u),j=n(7),b=n(14),x=n(47),m=Object(x.b)({name:"spacetraders",initialState:{user:{credits:0,loans:[],ships:[],username:"undefined"},account:{token:"",username:""},flightPlans:[]},reducers:{setUser:function(e,t){var n=t.payload;e.user=n.user},setToken:function(e,t){var n=t.payload;e.account=JSON.parse(n)},setCredits:function(e,t){var n=t.payload;e.user.credits=n},updateShip:function(e,t){var n=t.payload;Object.assign(e.user.ships.find((function(e){return e.id===n.id})),n)},addFlightPlan:function(e,t){var n=t.payload;e.flightPlans.push(n),localStorage.setItem("flightPlans",JSON.stringify(e.flightPlans))},removeFlightPlan:function(e,t){var n=t.payload,c=e.flightPlans.filter((function(e){return e!==n}));e.flightPlans=c,localStorage.setItem("flightPlans",JSON.stringify(e.flightPlans))}}}),h=m.actions,p=h.setUser,f=h.setToken,O=h.setCredits,v=h.updateShip,g=h.addFlightPlan,y=h.removeFlightPlan,w=m.reducer,N=Object(x.a)({reducer:w,preloadedState:void 0});!function(e){e.Get="get",e.Post="post"}(c||(c={}));var k="https://api.spacetraders.io";function C(e,t,n){return S.apply(this,arguments)}function S(){return(S=Object(j.a)(d.a.mark((function e(t,n,r){var a,s,o,i=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=i.length>3&&void 0!==i[3]?i[3]:{},r!==c.Get){e.next=7;break}return e.next=4,fetch(t,{method:r,headers:{Authorization:"Bearer ".concat(n)}});case 4:s=e.sent,e.next=10;break;case 7:return e.next=9,fetch(t,{method:r,headers:{Authorization:"Bearer ".concat(n),"Content-Type":"application/json"},body:JSON.stringify(a)});case 9:s=e.sent;case 10:if(401!==s.status){e.next=12;break}throw new Error("Incorrect username or token.");case 12:return e.next=14,s.json();case 14:if(o=e.sent,!(s.status>=400)){e.next=17;break}throw new Error(o.error.message);case 17:return e.abrupt("return",o);case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var z,L,P,E=function(e){return Object(j.a)(d.a.mark((function t(){var n,c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(k,"/users/").concat(e,"/token"));case 2:if(!((n=t.sent).status>=400)){t.next=5;break}throw new Error("Username already exists");case 5:return t.next=7,n.json();case 7:return c=t.sent,t.abrupt("return",c);case 9:case"end":return t.stop()}}),t)})))()},B=function(e,t){return Object(j.a)(d.a.mark((function n(){var r;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r="".concat(k,"/users/").concat(e),n.abrupt("return",C(r,t,c.Get));case 2:case"end":return n.stop()}}),n)})))()},M=function(e){return Object(j.a)(d.a.mark((function t(){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="".concat(k,"/game/loans"),t.abrupt("return",C(n,e,c.Get));case 2:case"end":return t.stop()}}),t)})))()},A=function(e,t,n){return Object(j.a)(d.a.mark((function r(){var a;return d.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a="".concat(k,"/users/").concat(e,"/loans"),r.abrupt("return",C(a,t,c.Post,{type:n}));case 2:case"end":return r.stop()}}),r)})))()},I=function(e){var t=arguments;return Object(j.a)(d.a.mark((function n(){var r,a;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.length>1&&void 0!==t[1]?t[1]:"",a="".concat(k,"/game/ships"),n.abrupt("return",C(a,e,c.Get,{class:r}));case 3:case"end":return n.stop()}}),n)})))()},G=function(e,t,n,r){return Object(j.a)(d.a.mark((function a(){var s;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return s="".concat(k,"/users/").concat(t,"/ships"),a.abrupt("return",C(s,e,c.Post,{location:n,type:r}));case 2:case"end":return a.stop()}}),a)})))()},T=function(e){return Object(j.a)(d.a.mark((function t(){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="".concat(k,"/game/systems"),t.abrupt("return",C(n,e,c.Get));case 2:case"end":return t.stop()}}),t)})))()},U=function(e,t){return Object(j.a)(d.a.mark((function n(){var r;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r="".concat(k,"/game/systems/").concat(t,"/locations"),n.abrupt("return",C(r,e,c.Get));case 2:case"end":return n.stop()}}),n)})))()},V=function(e,t){return Object(j.a)(d.a.mark((function n(){var r;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r="".concat(k,"/game/locations/").concat(t,"/marketplace"),n.abrupt("return",C(r,e,c.Get));case 2:case"end":return n.stop()}}),n)})))()},F=function(e,t,n,r,a){return Object(j.a)(d.a.mark((function s(){var o;return d.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return o="".concat(k,"/users/").concat(t,"/purchase-orders"),s.abrupt("return",C(o,e,c.Post,{shipId:n,good:r,quantity:a}));case 2:case"end":return s.stop()}}),s)})))()},q=function(e,t,n,r,a){return Object(j.a)(d.a.mark((function s(){var o;return d.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return o="".concat(k,"/users/").concat(t,"/sell-orders"),s.abrupt("return",C(o,e,c.Post,{shipId:n,good:r,quantity:a}));case 2:case"end":return s.stop()}}),s)})))()},W=function(e,t,n,r){return Object(j.a)(d.a.mark((function a(){var s;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return s="".concat(k,"/users/").concat(t,"/flight-plans"),a.abrupt("return",C(s,e,c.Post,{shipId:n,destination:r}));case 2:case"end":return a.stop()}}),a)})))()},D=function(e,t,n){return Object(j.a)(d.a.mark((function r(){var a;return d.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a="".concat(k,"/users/").concat(t,"/flight-plans/").concat(n),r.abrupt("return",C(a,e,c.Get));case 2:case"end":return r.stop()}}),r)})))()},R=(n(62),n(0)),J=function(){var e=Object(i.c)((function(e){return e.user}));return Object(R.jsxs)("div",{className:"px-8 text-gray-50 w-full h-16 bg-gray-900 flex justify-between items-center",children:[Object(R.jsxs)("div",{className:"flex items-center",children:[Object(R.jsx)("h1",{children:Object(R.jsx)(l.c,{to:"/",className:"hover:text-yellow-600",children:e.username})}),Object(R.jsxs)("span",{className:"text-xs text-gray-400 ml-4",children:[e.credits.toLocaleString()," credits"]})]}),Object(R.jsxs)("div",{className:"flex flex-row",children:[Object(R.jsx)(l.c,{to:"/ships",title:"ships",className:"w-7 h-7 mx-2 hover:text-yellow-600",children:Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",strokeWidth:1.3,viewBox:"0 0 512.001 512.001",children:[Object(R.jsx)("path",{d:"m226 182.707h60v30h-60z"}),Object(R.jsx)("path",{d:"m482 340.339-95.167-73.476c-25.568-19.74-40.833-50.809-40.833-83.112v-46.044c0-28.454-8.007-56.148-23.156-80.091-14.729-23.279-35.535-42.055-60.168-54.298l-6.676-3.318-6.676 3.318c-24.632 12.243-45.438 31.019-60.168 54.298-15.148 23.943-23.156 51.637-23.156 80.091v46.044c0 32.303-15.265 63.372-40.833 83.112l-95.167 73.476v111.662h106v60h240v-60h106zm-226-306.578c32.849 18.929 54.461 51.693 59.067 88.946h-118.133c4.605-37.254 26.217-70.018 59.066-88.946zm-60 118.946h120v269.294h-120zm90 299.294v30h-60v-30zm-226-96.924 83.5-64.468c8.403-6.488 15.934-13.932 22.5-22.106v153.498h-106zm106 96.924h30v30h-30zm180 30h-30v-30h30zm106-60h-106v-153.498c6.565 8.174 14.096 15.618 22.499 22.106l83.501 64.468z"})]})}),Object(R.jsx)(l.c,{to:"/loans",title:"loans",className:"w-7 h-7 mx-2 hover:text-yellow-600",children:Object(R.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(R.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.3,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),Object(R.jsx)(l.c,{to:"/systems",title:"locations",className:"w-7 h-7 mx-2 hover:text-yellow-600",children:Object(R.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(R.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.3,d:"M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7"})})})]})]})},H=n(4),Y=function(){var e=Object(r.useState)(""),t=Object(H.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)(""),s=Object(H.a)(a,2),o=s[0],l=s[1],u=Object(r.useState)(!1),b=Object(H.a)(u,2),x=b[0],m=b[1],h=Object(r.useState)(!1),O=Object(H.a)(h,2),v=O[0],g=O[1],y=Object(r.useState)(""),w=Object(H.a)(y,2),N=w[0],k=w[1],C=Object(i.b)(),S=function(){var e=Object(j.a)(d.a.mark((function e(t){var c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!x){e.next=13;break}return e.prev=2,e.next=5,E(n);case 5:c=e.sent,localStorage.setItem("apiKey",JSON.stringify({username:c.user,token:c.token})),C(f(c.token)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),k(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}(),z=function(){var e=Object(j.a)(d.a.mark((function e(t){var c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!x){e.next=14;break}return e.prev=2,e.next=5,B(n,o);case 5:c=e.sent,localStorage.setItem("apiKey",JSON.stringify({username:n,token:o})),C(f(JSON.stringify({username:n,token:o}))),C(p(c)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),k(e.t0.message);case 14:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e,t=null===(e=document.querySelector("form"))||void 0===e?void 0:e.checkValidity();m(t)};return Object(R.jsxs)("div",{className:"bg-gray-800 text-gray-200 w-full h-full flex flex-col items-center justify-center",children:[Object(R.jsx)("h1",{className:"text-4xl",children:"Welcome to Vocivos!"}),Object(R.jsx)("h2",{className:"mb-6",children:"A SpaceTraders API interface"}),N&&Object(R.jsx)("p",{className:"bg-red-300 text-red-800 px-4 py-3 mb-4",children:N}),Object(R.jsx)("div",{className:"flex items-left flex-col",children:v?Object(R.jsxs)("div",{className:"border border-gray-700 rounded p-7 px-10 shadow-lg bg-gray-900",children:[Object(R.jsxs)("form",{className:"mt-2",children:[Object(R.jsx)("div",{children:Object(R.jsx)("input",{type:"text",placeholder:"Username",className:"text-gray-700 py-2 px-2 box-border border border-gray-400 rounded",onChange:function(e){c(e.target.value),L()},required:!0})}),Object(R.jsx)("div",{className:"mt-3",children:Object(R.jsx)("input",{type:"text",placeholder:"Token",className:"text-gray-700 py-2 px-2 box-border border border-gray-400 rounded",onChange:function(e){l(e.target.value),L()}})}),Object(R.jsx)("div",{className:"mt-3",children:Object(R.jsx)("button",{type:"submit",className:"py-2 px-4 w-full text-white bg-green-600 rounded hover:bg-green-700",onClick:z,children:"Login"})})]}),Object(R.jsxs)("p",{className:"text-sm mt-4 text-center",children:["Need an account? ",Object(R.jsx)("button",{type:"button",className:"text-yellow-500 hover:text-yellow-400",onClick:function(){return g(!1)},children:"Register"})]})]}):Object(R.jsxs)("div",{className:"border border-gray-700 rounded p-7 px-10 shadow-lg bg-gray-900",children:[Object(R.jsxs)("form",{className:"mt-2",children:[Object(R.jsx)("input",{type:"text",placeholder:"Username",className:"text-gray-700 py-2 px-2 box-border border border-gray-400 rounded",onChange:function(e){c(e.target.value),L()},required:!0}),Object(R.jsx)("div",{className:"mt-3",children:Object(R.jsx)("button",{type:"submit",className:"py-2 px-4 w-full text-white bg-green-600 rounded hover:bg-green-700",onClick:S,children:"Sign Up"})})]}),Object(R.jsxs)("p",{className:"text-sm mt-4 text-center",children:["Already have an account? ",Object(R.jsx)("button",{type:"button",className:"text-yellow-500 hover:text-yellow-400",onClick:function(){return g(!0)},children:"Sign in"})]})]})})]})},K=n(70),_=n(68),Q=n(71),X=n(69);!function(e){e.Startup="STARTUP"}(z||(z={})),function(e){e.Planet="PLANET",e.Moon="MOON",e.GasGiant="GAS_GIANT",e.Asteroid="ASTEROID"}(L||(L={})),function(e){e.Fuel="FUEL"}(P||(P={}));var Z=n(6),$=function(e){var t=e.handleClose,n=e.show,c=e.ship,a=Object(i.c)((function(e){return e.account})),s=a.token,o=a.username,l=Object(i.c)((function(e){return e.user})).credits,u=Object(i.b)(),b=Object(r.useState)(),x=Object(H.a)(b,2),m=x[0],h=x[1],p=Object(r.useState)(),f=Object(H.a)(p,2),g=f[0],y=f[1],w=Object(r.useState)(0),N=Object(H.a)(w,2),k=N[0],C=N[1],S=n?"fixed w-full h-full top-0 left-0 flex items-center justify-center text-gray-900":"hidden";Object(r.useEffect)((function(){(function(){var e=Object(j.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c.location){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,V(s,c.location);case 4:t=e.sent.planet.marketplace,h(Object(Z.a)(t).sort((function(e,t){return e.symbol>t.symbol?1:t.symbol>e.symbol?-1:0})));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var z=function(){if(!g)return 0;var e=Math.floor(c.spaceAvailable/g.volumePerUnit);return e*g.pricePerUnit<l&&e<=g.quantityAvailable?e:e>g.quantityAvailable?g.quantityAvailable:Math.floor(l/g.pricePerUnit)},L=function(){var e=Object(j.a)(d.a.mark((function e(){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(g){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,F(s,o,c.id,g.symbol,k);case 4:n=e.sent,u(O(n.credits)),u(v(n.ship)),y(void 0),t();case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(R.jsxs)("div",{className:S,children:[Object(R.jsx)("div",{className:"modal-overlay absolute w-full h-full bg-gray-900 opacity-50",onClick:function(){y(void 0),t()}}),Object(R.jsx)("div",{className:"modal-container bg-gray-100 w-11/12 md:max-w-md mx-auto rounded shadow-lg z-50 overflow-y-auto min-h-1/3",children:Object(R.jsxs)("div",{className:"modal-content py-4 text-left px-6",children:[Object(R.jsx)("h3",{className:"text-xl font-semibold mb-6",children:"Market Buy"}),Object(R.jsxs)("div",{className:"relative",children:[Object(R.jsx)("div",{className:"divide-y",children:null===m||void 0===m?void 0:m.map((function(e){return Object(R.jsxs)("div",{className:"py-3 flex justify-between items-center bg-gray-100 w-full ".concat(g?"absolute":""," ").concat((null===g||void 0===g?void 0:g.symbol)===e.symbol?"z-10":""),children:[Object(R.jsxs)("div",{children:[Object(R.jsxs)("p",{className:"font-semibold",children:[(t=e.symbol,t.toLowerCase().split("_").map((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})).join(" "))," ",Object(R.jsxs)("span",{className:"ml-3 text-sm text-gray-500 font-normal",children:[e.quantityAvailable.toLocaleString()," units available"]})]}),Object(R.jsxs)("p",{className:"text-sm",children:[e.pricePerUnit.toLocaleString()," credit",e.pricePerUnit>1?"s":""," per unit"]})]}),!g&&Object(R.jsx)("div",{children:Object(R.jsx)("button",{type:"button",className:"text-sm bg-blue-500 text-white px-4 py-1 rounded mr-3 hover:bg-blue-600",onClick:function(){return y(e)},children:"Buy"})})]},e.symbol+e.quantityAvailable+e.pricePerUnit+e.volumePerUnit);var t}))}),g&&Object(R.jsxs)("div",{className:"absolute top-20 w-full text-center",children:[Object(R.jsxs)("div",{className:"flex",children:[Object(R.jsx)("input",{type:"number",min:0,value:k,placeholder:"Quantity",className:"flex-grow px-3 py-2 border border-gray-300 rounded focus:border-blue-500 focus:outline-none",onChange:function(e){return C(parseInt(e.target.value,10))}}),Object(R.jsx)("button",{type:"button",className:"ml-2 bg-blue-400 text-gray-100 px-3 py-2 rounded hover:bg-blue-500",onClick:function(){return C(z)},children:"Max"})]}),Object(R.jsxs)("button",{type:"button",className:"mt-2 w-full px-3 py-2 bg-green-400 text-white rounded hover:bg-green-500 disabled:opacity-50 disabled:bg-green-400 disabled:cursor-default",disabled:k*g.pricePerUnit<=0||k*g.pricePerUnit>l,onClick:L,children:["Purchase for ",(k*g.pricePerUnit).toLocaleString()," credit",k*g.pricePerUnit>1?"s":""]}),Object(R.jsx)("button",{type:"button",className:"text-red-400 mt-3 hover:text-red-500",onClick:function(){y(void 0),C(0)},children:"Back"})]})]})]})})]})},ee=function(e){var t,n=e.handleClose,c=e.show,a=e.ship,s=Object(i.c)((function(e){return e.account})),o=s.token,l=s.username,u=Object(i.b)(),b=Object(r.useState)(),x=Object(H.a)(b,2),m=x[0],h=x[1],p=Object(r.useState)(),f=Object(H.a)(p,2),g=f[0],y=f[1],w=Object(r.useState)(0),N=Object(H.a)(w,2),k=N[0],C=N[1],S=c?"fixed w-full h-full top-0 left-0 flex items-center justify-center text-gray-900":"hidden";Object(r.useEffect)((function(){(function(){var e=Object(j.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.location){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,V(o,a.location);case 4:t=e.sent.planet.marketplace,h(t);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var z=function(){var e=Object(j.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(g){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,q(o,l,a.id,g.good,k);case 4:t=e.sent,u(O(t.credits)),u(v(t.ship)),y(void 0),n();case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(R.jsxs)("div",{className:S,children:[Object(R.jsx)("div",{className:"modal-overlay absolute w-full h-full bg-gray-900 opacity-50",onClick:function(){y(void 0),n()}}),Object(R.jsx)("div",{className:"modal-container bg-gray-100 w-11/12 md:max-w-md mx-auto rounded shadow-lg z-50 overflow-y-auto ".concat(g?"min-h-1/3":""),children:Object(R.jsxs)("div",{className:"modal-content py-4 text-left px-6",children:[Object(R.jsx)("h3",{className:"text-xl font-semibold mb-6",children:"Sell Cargo"}),Object(R.jsxs)("div",{className:"relative",children:[Object(R.jsx)("div",{className:"divide-y",children:null===(t=a.cargo)||void 0===t?void 0:t.map((function(e){var t,n;return Object(R.jsxs)("div",{className:"py-3 flex justify-between items-center bg-gray-100 w-full ".concat(g?"absolute":""," ").concat((null===g||void 0===g?void 0:g.good)===e.good?"z-10":""),children:[Object(R.jsxs)("div",{children:[Object(R.jsxs)("p",{className:"font-semibold",children:[(n=e.good,n.toLowerCase().split("_").map((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})).join(" "))," ",Object(R.jsxs)("span",{className:"ml-3 text-sm text-gray-500 font-normal",children:[e.quantity.toLocaleString()," units available"]})]}),(null===m||void 0===m?void 0:m.some((function(t){return t.symbol===e.good})))&&Object(R.jsxs)("p",{className:"text-sm",children:[null===(t=m.find((function(t){return t.symbol===e.good})))||void 0===t?void 0:t.pricePerUnit.toLocaleString()," credits per unit"]})]}),!g&&Object(R.jsx)("div",{children:Object(R.jsx)("button",{type:"button",className:"text-sm bg-blue-500 text-white px-4 py-1 rounded mr-3 hover:bg-blue-600 disabled:opacity-50 disabled:cursor-default disabled:bg-blue-500",disabled:!(null===m||void 0===m?void 0:m.some((function(t){return t.symbol===e.good}))),onClick:function(){return y(e)},children:"Sell"})})]},e.good+e.quantity+e.totalVolume)}))}),g&&Object(R.jsxs)("div",{className:"absolute top-20 w-full text-center",children:[Object(R.jsxs)("div",{className:"flex",children:[Object(R.jsx)("input",{type:"number",min:0,max:g.quantity,value:k,placeholder:"Quantity",className:"flex-grow px-3 py-2 border border-gray-300 rounded focus:border-blue-500 focus:outline-none",onChange:function(e){return C(parseInt(e.target.value,10))}}),Object(R.jsx)("button",{type:"button",className:"ml-2 bg-blue-400 text-gray-100 px-3 py-2 rounded hover:bg-blue-500",onClick:function(){return C(g.quantity)},children:"Max"})]}),Object(R.jsxs)("button",{type:"button",className:"mt-2 w-full px-3 py-2 bg-green-400 text-white rounded hover:bg-green-500 disabled:opacity-50 disabled:bg-green-400 disabled:cursor-default",disabled:k<=0,onClick:z,children:["Sell for ",(k*(null===m||void 0===m?void 0:m.find((function(e){return e.symbol===g.good}))).pricePerUnit).toLocaleString()," credits"]}),Object(R.jsx)("button",{type:"button",className:"text-red-400 mt-3 hover:text-red-500",onClick:function(){y(void 0),C(0)},children:"Back"})]})]})]})})]})},te=function(e){var t=e.handleClose,n=e.show,c=e.ship,a=Object(i.c)((function(e){return e.account})),s=a.token,o=a.username,l=Object(i.b)(),u=Object(r.useState)(),b=Object(H.a)(u,2),x=b[0],m=b[1],h=Object(r.useState)(""),p=Object(H.a)(h,2),f=p[0],O=p[1],v=n?"fixed w-full h-full top-0 left-0 flex items-center justify-center text-gray-900":"hidden";Object(r.useEffect)((function(){(function(){var e=Object(j.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c.location){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,U(s,c.location.split("-")[0]);case 4:t=e.sent.locations,m(t);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var y=function(){var e=Object(j.a)(d.a.mark((function e(n){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,W(s,o,c.id,n);case 3:r=e.sent.flightPlan,l(g(r)),t(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),O(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(R.jsxs)("div",{className:v,children:[Object(R.jsx)("div",{className:"modal-overlay absolute w-full h-full bg-gray-900 opacity-50",onClick:t}),Object(R.jsx)("div",{className:"modal-container bg-gray-100 w-11/12 md:max-w-md mx-auto rounded shadow-lg z-50 overflow-y-auto min-h-1/3",children:Object(R.jsxs)("div",{className:"modal-content py-4 text-left px-6",children:[Object(R.jsx)("h3",{className:"text-xl font-semibold mb-6",children:"Set Destination"}),f&&Object(R.jsx)("p",{className:"py-4 px-2 bg-red-500 text-gray-100 text-center",children:f}),Object(R.jsx)("div",{className:"relative",children:Object(R.jsx)("div",{className:"divide-y",children:null===x||void 0===x?void 0:x.map((function(e){return Object(R.jsxs)("div",{className:"py-2 flex justify-between items-center",children:[Object(R.jsxs)("div",{children:[Object(R.jsx)("p",{children:e.name}),Object(R.jsx)("p",{className:"text-sm text-gray-500",children:e.symbol})]}),Object(R.jsx)("div",{children:c.location===e.symbol?Object(R.jsx)("p",{className:"text-sm text-gray-600 cursor-default",children:"Current location"}):Object(R.jsx)("button",{type:"button",className:"px-3 py-1 bg-blue-500 text-white rounded text-sm hover:bg-blue-600 disabled:opacity-50 disabled:cursor-default disabled:bg-blue-500",onClick:function(){return y(e.symbol)},children:"Travel"})})]},e.symbol+e.name)}))})})]})})]})},ne=function(e){var t,n=e.ship,c=e.compact,s=Object(i.c)((function(e){return e.flightPlans})),o=Object(i.b)(),l=Object(r.useState)(!1),u=Object(H.a)(l,2),d=u[0],j=u[1],b=Object(r.useState)(!1),x=Object(H.a)(b,2),m=x[0],h=x[1],p=Object(r.useState)(!1),f=Object(H.a)(p,2),O=f[0],v=f[1],g=Object(r.useState)(),w=Object(H.a)(g,2),N=w[0],k=w[1];Object(r.useEffect)((function(){if(s){var e=s.find((function(e){return e.ship===n.id}));e&&k(e)}}),[s]);var C=function(){return N?(Object(_.a)(new Date(N.arrivesAt))&&o(y(N)),Object(Q.a)(new Date(N.arrivesAt))):""};Object(r.useEffect)((function(){if(!N)return function(){return null};var e=setInterval((function(){return C()}),1e3);return function(){return clearInterval(e)}}),[N]);var S=function(e){return!(e.filter((function(e){return e.good===P.Fuel})).reduce((function(e,t){return e+t.quantity}),0)>0)};return Object(R.jsxs)(a.a.Fragment,{children:[d?Object(R.jsx)($,{show:d,ship:n,handleClose:function(){return j(!1)}}):null,m?Object(R.jsx)(ee,{show:m,ship:n,handleClose:function(){return h(!1)}}):null,O?Object(R.jsx)(te,{show:O,ship:n,handleClose:function(){return v(!1)}}):null,c?Object(R.jsx)("div",{className:"w-1/4 p-3 bg-gray-900 border border-gray-700 rounded divide-y divide-gray-500 hover:border-yellow-900 hover:shadow-xl",children:Object(R.jsxs)("div",{className:"flex justify-between items-center ",children:[Object(R.jsxs)("div",{className:"text-left",children:[Object(R.jsx)("h3",{children:n.type}),Object(R.jsx)("p",{className:"text-xs text-gray-400",children:n.location})]}),N&&Object(X.a)(new Date(N.arrivesAt))||!n.location?Object(R.jsxs)("div",{className:"text-right",children:[Object(R.jsx)("p",{className:"text-xs text-gray-400",children:"In Transit"}),Object(R.jsxs)("p",{className:"text-sm text-gray-300",children:["Arrives in ",C()]})]}):Object(R.jsxs)("div",{children:[Object(R.jsx)("button",{type:"button",title:"Travel",className:"mr-2 w-6 h-6 bg-blue-500 rounded hover:bg-blue-600 disabled:opacity-50 disabled:bg-blue-500 disabled:cursor-default",onClick:function(){return v(!0)},disabled:S(n.cargo),children:Object(R.jsx)("p",{className:"text-sm font-bold",children:"T"})}),Object(R.jsx)("button",{type:"button",title:"Buy",className:"mr-2 w-6 h-6 bg-green-500 rounded hover:bg-green-600",onClick:function(){return j(!0)},children:Object(R.jsx)("p",{className:"text-sm font-bold",children:"B"})}),Object(R.jsx)("button",{type:"button",title:"Sell",className:"mr-2 w-6 h-6 bg-red-500 rounded hover:bg-red-600",onClick:function(){return h(!0)},children:Object(R.jsx)("p",{className:"text-sm font-bold",children:"S"})})]})]})}):Object(R.jsxs)("div",{className:"p-3 focus:outline-none bg-gray-900 border border-gray-700 rounded",children:[Object(R.jsx)("div",{className:"flex justify-between items-center mb-5",children:Object(R.jsxs)("div",{className:"text-left",children:[Object(R.jsx)("h3",{className:"text-xl",children:n.type}),Object(R.jsx)("p",{className:"text-xs text-gray-400",children:n.manufacturer})]})}),Object(R.jsxs)("div",{className:"flex mt-3",children:[Object(R.jsx)("div",{className:"w-6 h-6 mr-3",children:Object(R.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[Object(R.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),Object(R.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]})}),Object(R.jsx)("p",{children:N&&Object(X.a)(new Date(N.arrivesAt))||!n.location?"In Transit":n.location})]}),Object(R.jsxs)("div",{className:"flex mt-3",children:[Object(R.jsx)("div",{className:"w-6 h-6 mr-3",children:Object(R.jsxs)("svg",{enableBackground:"new 0 0 510 510",fill:"#E5E7EB",viewBox:"0 0 510 510",xmlns:"http://www.w3.org/2000/svg",children:[Object(R.jsx)("path",{strokeWidth:1,d:"m111.333 235.667h198v-174h-198zm30-144h138v114h-138z"}),Object(R.jsx)("path",{strokeWidth:1,d:"m441.667 180.557v-56.552l-70.334-20v-104.005h-322v480h-39v30h400v-30h-39v-119.29c19.516 6.339 33.667 24.688 33.667 46.29v20.667c0 26.1 21.233 47.333 47.333 47.333s47.334-21.234 47.334-47.333v-175.667c0-35.112-24.92-64.506-58-71.443zm-30-33.894v80.671c0 3.125-2.542 5.667-5.667 5.667h-34.667v-97.807zm-332.334 333.337v-450h262v450zm390.334-52.333c0 9.558-7.776 17.333-17.334 17.333s-17.333-7.776-17.333-17.333v-20.667c0-38.247-27.442-70.19-63.667-77.215v-66.785h34.667c19.667 0 35.667-16 35.667-35.667v-15.629c16.335 6.101 28 21.859 28 40.295z"}),Object(R.jsx)("path",{strokeWidth:1,d:"m111.333 295h123.667v30h-123.667z"}),Object(R.jsx)("path",{strokeWidth:1,d:"m268.333 295h41v30h-41z"})]})}),Object(R.jsx)("p",{children:null===(t=n.cargo.find((function(e){return"FUEL"===e.good})))||void 0===t?void 0:t.quantity})]}),Object(R.jsxs)("div",{className:"flex mt-3",children:[Object(R.jsx)("div",{className:"w-6 h-6 mr-3",children:Object(R.jsx)("svg",{version:"1.1",fill:"#E5E7EB",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 485.32 485.32",enableBackground:"new 0 0 485.32 485.32",children:Object(R.jsx)("g",{children:Object(R.jsx)("path",{d:"m480.76,79.05c-0.6-0.2-235-78.3-235-78.3-2.1-1-4.1-1-6.2,0l-231.9,76.3c-5.8,2.4-7.2,7.4-7.2,10.3v313.3c0,5.2 3.1,9.3 7.2,10.3l229,73.2c3.5,1.3 7.3,1.8 12.1,0l228.9-73.2c4.1-2.1 7.2-6.2 7.2-10.3v-313.3c5.68434e-14-3.1-1-6.2-4.1-8.3zm-238.1-56.7l198.9,63.9-75.1,24.1-196-64.5 72.2-23.5zm-10.3,438l-211.3-67v-291.4l211.3,67.6v290.8zm10.3-310.2l-198.9-62.8 93.7-30.6 195.3,64.5-90.1,28.9zm10.3,310.2v-291.6l105.1-33.3v32.3l20.6-8.8v-30l85.5-27v290.4h0.1l-211.3,68z"})})})}),Object(R.jsxs)("p",{children:[n.maxCargo-n.spaceAvailable," of ",n.maxCargo]})]}),Object(R.jsxs)("div",{className:"flex mt-3",children:[Object(R.jsx)("div",{className:"w-6 h-6 mr-3",children:Object(R.jsx)("svg",{fill:"#E5E7EB",enableBackground:"new 0 0 512 512",viewBox:"0 0 512 512",xmlns:"http://www.w3.org/2000/svg",children:Object(R.jsx)("path",{d:"m512 358.121c0-68.38-26.629-132.667-74.98-181.02-48.353-48.352-112.64-74.98-181.02-74.98s-132.667 26.629-181.02 74.98c-48.351 48.353-74.98 112.64-74.98 181.02v15h205.016c4.085 12.323 12.371 22.642 23.657 29.305 8.558 5.052 17.953 7.453 27.236 7.453 18.406 0 36.36-9.448 46.376-26.413 1.956-3.313 3.522-6.781 4.717-10.345h204.998zm-235.548 10.093c-6.656 11.276-21.247 15.037-32.526 8.378-5.463-3.225-9.343-8.384-10.925-14.528-1.583-6.144-.679-12.535 2.547-17.998s8.385-9.343 14.528-10.925c1.976-.509 3.977-.76 5.964-.76 4.194 0 8.328 1.12 12.034 3.308 5.463 3.225 9.343 8.384 10.925 14.528 1.583 6.143.679 12.535-2.547 17.997zm31.689-25.093c-.032-.129-.057-.259-.09-.388-2.296-8.916-6.74-16.908-12.887-23.425l43.106-73.015-25.834-15.252-43.106 73.015c-8.675-2.233-17.819-2.264-26.737.032-13.903 3.581-25.58 12.362-32.879 24.726-2.674 4.53-4.636 9.344-5.882 14.307h-173.34c1.992-30.247 9.976-58.88 22.75-84.742l33.311 19.232 15-25.98-33.274-19.21c16.444-24.477 37.541-45.578 62.018-62.022l19.212 33.276 25.98-15-19.236-33.318c25.861-12.774 54.5-20.737 84.746-22.729v38.493h30v-38.493c30.246 1.992 58.885 9.955 84.746 22.729l-19.236 33.318 25.98 15 19.212-33.276c24.477 16.444 45.573 37.545 62.018 62.022l-33.274 19.21 15 25.98 33.311-19.232c12.774 25.862 20.758 54.495 22.75 84.742z"})})}),Object(R.jsx)("p",{children:n.speed})]}),Object(R.jsxs)("div",{className:"flex mt-3",children:[Object(R.jsx)("div",{className:"w-6 h-6 mr-3",children:Object(R.jsx)("svg",{version:"1.1",fill:"#E5E7EB",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 512 512",children:Object(R.jsx)("g",{children:Object(R.jsx)("path",{d:"M461.144,60.883L260.312,0.633c-2.809-0.844-5.808-0.844-8.62,0L50.858,60.883c-6.345,1.903-10.69,7.743-10.69,14.367 v220.916c0,28.734,11.632,58.148,34.573,87.425c17.522,22.36,41.762,44.813,72.048,66.736 c50.877,36.828,100.975,59.42,103.083,60.363c1.95,0.873,4.039,1.31,6.129,1.31c2.089,0,4.179-0.436,6.129-1.31 c2.108-0.943,52.205-23.535,103.082-60.363c30.285-21.923,54.525-44.376,72.047-66.736c22.941-29.276,34.573-58.69,34.573-87.425 V75.25C471.833,68.626,467.489,62.786,461.144,60.883z M441.833,296.166c0,50.852-51.023,98.534-93.826,129.581 c-38.374,27.833-77.291,47.583-92.005,54.678c-14.714-7.095-53.632-26.845-92.006-54.678 c-42.804-31.047-93.828-78.729-93.828-129.581V86.41l185.833-55.75l185.832,55.75V296.166z"})})})}),Object(R.jsx)("p",{children:n.plating})]}),Object(R.jsxs)("div",{className:"flex mt-3",children:[Object(R.jsx)("div",{className:"w-6 h-6 mr-3",children:Object(R.jsx)("svg",{fill:"#E5E7EB",enableBackground:"new 0 0 510.192 510.192",viewBox:"0 0 510.192 510.192",xmlns:"http://www.w3.org/2000/svg",children:Object(R.jsx)("g",{children:Object(R.jsx)("path",{d:"m510.192 0-122.656 13.628-300.462 300.463-22.694-22.694 33.301-33.3-21.213-21.213-54.514 54.513c10.689 10.689 55.253 55.254 65.86 65.861l-87.814 87.814 65.12 65.12 87.813-87.814c10.633 10.632 55.212 55.211 65.861 65.86l54.513-54.514-21.213-21.213-33.3 33.301-22.694-22.693 300.464-300.463zm-467.766 445.072 22.693-22.694 22.695 22.695-22.694 22.693zm66.602-21.212-22.695-22.695 22.694-22.693 22.694 22.694zm358.881-314.976-293.022 293.022-22.693-22.694 252.835-252.835-21.213-21.213-252.835 252.835-22.694-22.693 293.021-293.023 74.927-8.325z"})})})}),Object(R.jsx)("p",{children:n.weapons})]}),N&&Object(X.a)(new Date(N.arrivesAt))||!n.location?null:Object(R.jsxs)("div",{className:"mt-5 grid grid-cols-3 gap-x-4",children:[Object(R.jsx)("button",{type:"button",className:"px-2 py-1 bg-blue-500 rounded hover:bg-blue-600 disabled:opacity-50 disabled:bg-blue-500 disabled:cursor-default",onClick:function(){return v(!0)},disabled:S(n.cargo),children:S(n.cargo)?"No fuel":"Travel"}),Object(R.jsx)("button",{type:"button",className:"px-2 py-1 bg-green-500 rounded hover:bg-green-600",onClick:function(){return j(!0)},children:"Buy"}),Object(R.jsx)("button",{type:"button",className:"px-2 py-1 bg-red-500 rounded hover:bg-red-600",onClick:function(){return h(!0)},children:"Sell"})]})]})]})};ne.defaultProps={compact:!1};var ce=ne,re=function(){var e=Object(i.c)((function(e){return e.user})),t=e.username,n=e.loans,c=e.ships;return Object(R.jsxs)(a.a.Fragment,{children:[Object(R.jsxs)("h2",{className:"text-3xl mb-10",children:["Welcome ",t]}),Object(R.jsxs)("div",{className:"mb-4 min-h-1/4",children:[Object(R.jsx)("h3",{className:"text-xl mb-4",children:"Loans"}),Object(R.jsx)("div",{className:"pl-5",children:0===n.length?Object(R.jsxs)("div",{children:[Object(R.jsx)("p",{children:"You have no loans!"}),Object(R.jsx)(l.b,{to:"/loans/available",className:"text-sm text-yellow-700 hover:text-blue-600",children:"Get a loan"})]}):Object(R.jsx)("div",{children:n.map((function(e){return Object(R.jsxs)("p",{children:[e.repaymentAmount.toLocaleString()," credits due in ",Object(K.a)(new Date(e.due))]},e.id)}))})})]}),Object(R.jsxs)("div",{className:"mb-4 min-h-1/4",children:[Object(R.jsx)("h3",{className:"text-xl mb-4",children:"Ships"}),Object(R.jsx)("div",{className:"pl-5",children:0===c.length?Object(R.jsxs)("div",{children:[Object(R.jsx)("p",{children:"You have no ships :("}),Object(R.jsx)(l.b,{to:"/ships/available",className:"text-sm text-yellow-700 hover:text-blue-600",children:"Buy a ship"})]}):c.map((function(e){return Object(R.jsx)(ce,{ship:e,compact:!0},e.class+e.speed+e.manufacturer+e.maxCargo)}))})]})]})},ae=n(5),se=function(e){var t=e.handleClose,n=e.show,c=e.ship,a=Object(i.c)((function(e){return e.user})).credits,s=Object(i.c)((function(e){return e.account})),o=s.username,l=s.token,u=Object(i.b)(),x=Object(b.f)(),m=Object(r.useState)(!1),h=Object(H.a)(m,2),f=h[0],O=h[1],v=n?"fixed w-full h-full top-0 left-0 flex items-center justify-center text-gray-900":"hidden",g=function(){var e=Object(j.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c){e.next=2;break}return e.abrupt("return");case 2:return O(!0),e.next=5,G(l,o,t,null===c||void 0===c?void 0:c.type);case 5:n=e.sent,u(p(n)),x.push("/ships");case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(e){return f?Object(R.jsx)("div",{}):a>e.price?Object(R.jsx)("button",{type:"button",className:"px-5 py-1 bg-green-500 rounded text-white hover:bg-green-400",onClick:function(){return g(e.location)},children:"Buy"}):Object(R.jsx)("span",{className:"text-xs text-yellow-500",children:"Insufficient credits"})};return Object(R.jsxs)("div",{className:v,children:[Object(R.jsx)("div",{className:"modal-overlay absolute w-full h-full bg-gray-900 opacity-50",onClick:t}),Object(R.jsx)("div",{className:"modal-container bg-white w-11/12 md:max-w-md mx-auto rounded shadow-lg z-50 overflow-y-auto",children:Object(R.jsxs)("div",{className:"modal-content py-4 text-left px-6",children:[Object(R.jsxs)("h3",{className:"text-xl font-semibold mb-6",children:["Purchase ",null===c||void 0===c?void 0:c.type]}),Object(R.jsxs)("p",{className:"text-sm mb-5",children:["This ship is available in ",null===c||void 0===c?void 0:c.purchaseLocations.length," ",(null===c||void 0===c?void 0:c.purchaseLocations)&&c.purchaseLocations.length>1?"locations":"location",":"]}),Object(R.jsx)("ul",{children:null===c||void 0===c?void 0:c.purchaseLocations.map((function(e){return Object(R.jsxs)("li",{className:"flex justify-between items-center my-3",children:[Object(R.jsxs)("span",{children:[e.location," for ",e.price.toLocaleString()," credits "]}),y(e)]})}))}),Object(R.jsx)("div",{className:"flex justify-end pt-2",children:f?Object(R.jsx)("p",{className:"text-sm text-yellow-500 italic",children:"Please Wait..."}):Object(R.jsx)("button",{type:"button",className:"px-4 py-1 text-red-500 text-sm border border-red-500 rounded hover:text-red-400 hover:border-red-400",onClick:t,children:"Close"})})]})})]})},oe=function(){var e=Object(i.c)((function(e){return e})),t=Object(r.useState)(),n=Object(H.a)(t,2),c=n[0],s=n[1],o=Object(r.useState)(!1),l=Object(H.a)(o,2),u=l[0],b=l[1],x=Object(r.useState)("class"),m=Object(H.a)(x,2),h=m[0],p=m[1],f=Object(r.useState)(!1),O=Object(H.a)(f,2),v=O[0],g=O[1],y=Object(r.useState)(),w=Object(H.a)(y,2),N=w[0],k=w[1],C=function(){var t=Object(j.a)(d.a.mark((function t(){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,I(e.account.token,e.user.username);case 2:(n=t.sent).ships.sort((function(e,t){return e.type>t.type?1:t.type>e.type?-1:0})),s(n.ships);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),S=function(e){return e.purchaseLocations.reduce((function(e,t){return e.price<t.price?e:t})).price};return Object(r.useEffect)((function(){!function(e){if(c){var t;switch(e){case"type":t=u?Object(Z.a)(c).sort((function(e,t){return e.type<t.type?1:t.type<e.type?-1:0})):Object(Z.a)(c).sort((function(e,t){return e.type>t.type?1:t.type>e.type?-1:0}));break;case"manufacturer":t=u?Object(Z.a)(c).sort((function(e,t){return e.manufacturer>t.manufacturer?1:t.manufacturer>e.manufacturer?-1:0})):Object(Z.a)(c).sort((function(e,t){return e.manufacturer<t.manufacturer?1:t.manufacturer<e.manufacturer?-1:0}));break;case"maxCargo":t=u?Object(Z.a)(c).sort((function(e,t){return e.maxCargo>t.maxCargo?1:t.maxCargo>e.maxCargo?-1:0})):Object(Z.a)(c).sort((function(e,t){return e.maxCargo<t.maxCargo?1:t.maxCargo<e.maxCargo?-1:0}));break;case"speed":t=u?Object(Z.a)(c).sort((function(e,t){return e.speed>t.speed?1:t.speed>e.speed?-1:0})):Object(Z.a)(c).sort((function(e,t){return e.speed<t.speed?1:t.speed<e.speed?-1:0}));break;case"plating":t=u?Object(Z.a)(c).sort((function(e,t){return e.plating>t.plating?1:t.plating>e.plating?-1:0})):Object(Z.a)(c).sort((function(e,t){return e.plating<t.plating?1:t.plating<e.plating?-1:0}));break;case"weapons":t=u?Object(Z.a)(c).sort((function(e,t){return e.weapons>t.weapons?1:t.weapons>e.weapons?-1:0})):Object(Z.a)(c).sort((function(e,t){return e.weapons<t.weapons?1:t.weapons<e.weapons?-1:0}));break;default:t=u?Object(Z.a)(c).sort((function(e,t){return e.class>t.class?1:t.class>e.class?-1:0})):Object(Z.a)(c).sort((function(e,t){return e.class<t.class?1:t.class<e.class?-1:0}))}s(t)}}(h)}),[h,u]),Object(r.useEffect)((function(){C()}),[]),Object(R.jsxs)(a.a.Fragment,{children:[Object(R.jsx)(se,{show:v,ship:N,handleClose:function(){return g(!1)}}),Object(R.jsx)("h2",{className:"text-3xl mb-5",children:"Purchase Ships"}),Object(R.jsxs)("div",{className:"flex mb-5",children:[Object(R.jsx)("button",{type:"button",className:"cursor-pointer w-6 h-6",onClick:function(){return b(!u)},children:Object(R.jsxs)("svg",Object(ae.a)(Object(ae.a)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"#E5E7EB"},u?{transform:"rotate(180) scale(-1,1)"}:{}),{},{className:"origin-center",children:[Object(R.jsx)("path",{d:"M0 0h24v24H0V0z",fill:"none"}),Object(R.jsx)("path",{d:"M3 18h6v-2H3v2zM3 6v2h18V6H3zm0 7h12v-2H3v2z"})]}))}),Object(R.jsxs)("select",{name:"sort",id:"sort",className:"appearance-none bg-gray-800 text-gray-200 cursor-pointer",onChange:function(e){return p(e.target.value)},children:[Object(R.jsx)("option",{value:"type",children:"Name"}),Object(R.jsx)("option",{value:"manufacturer",children:"Manufacturer"}),Object(R.jsx)("option",{value:"cost",children:"Cost"}),Object(R.jsx)("option",{value:"maxCargo",children:"Max Cargo"}),Object(R.jsx)("option",{value:"speed",children:"Speed"}),Object(R.jsx)("option",{value:"plating",children:"Plating"}),Object(R.jsx)("option",{value:"weapons",children:"Weapons"})]})]}),Object(R.jsx)("div",{className:"grid grid-cols-4 gap-4",children:null===c||void 0===c?void 0:c.map((function(t){return Object(R.jsxs)("button",{type:"button",className:"p-3 bg-gray-900 border border-gray-700 rounded hover:border-yellow-900 hover:shadow-xl",onClick:function(){g(!0),k(t)},children:[Object(R.jsxs)("div",{className:"flex justify-between items-center mb-5",children:[Object(R.jsxs)("div",{className:"text-left",children:[Object(R.jsx)("h3",{children:t.type}),Object(R.jsx)("p",{className:"text-xs text-gray-400",children:t.manufacturer})]}),Object(R.jsxs)("div",{className:"text-right",children:[Object(R.jsxs)("p",{className:"text-xs text-gray-400",children:[t.purchaseLocations.length," available"]}),Object(R.jsxs)("p",{className:"text-sm ".concat(S(t)>e.user.credits?"text-red-400":""),children:[S(t).toLocaleString()," credits"]})]})]}),Object(R.jsxs)("div",{className:"flex mt-3",children:[Object(R.jsx)("div",{className:"w-6 h-6 mr-3",children:Object(R.jsx)("svg",{version:"1.1",fill:"#E5E7EB",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 485.32 485.32",enableBackground:"new 0 0 485.32 485.32",children:Object(R.jsx)("g",{children:Object(R.jsx)("path",{d:"m480.76,79.05c-0.6-0.2-235-78.3-235-78.3-2.1-1-4.1-1-6.2,0l-231.9,76.3c-5.8,2.4-7.2,7.4-7.2,10.3v313.3c0,5.2 3.1,9.3 7.2,10.3l229,73.2c3.5,1.3 7.3,1.8 12.1,0l228.9-73.2c4.1-2.1 7.2-6.2 7.2-10.3v-313.3c5.68434e-14-3.1-1-6.2-4.1-8.3zm-238.1-56.7l198.9,63.9-75.1,24.1-196-64.5 72.2-23.5zm-10.3,438l-211.3-67v-291.4l211.3,67.6v290.8zm10.3-310.2l-198.9-62.8 93.7-30.6 195.3,64.5-90.1,28.9zm10.3,310.2v-291.6l105.1-33.3v32.3l20.6-8.8v-30l85.5-27v290.4h0.1l-211.3,68z"})})})}),Object(R.jsx)("p",{children:t.maxCargo})]}),Object(R.jsxs)("div",{className:"flex mt-3",children:[Object(R.jsx)("div",{className:"w-6 h-6 mr-3",children:Object(R.jsx)("svg",{fill:"#E5E7EB",enableBackground:"new 0 0 512 512",viewBox:"0 0 512 512",xmlns:"http://www.w3.org/2000/svg",children:Object(R.jsx)("path",{d:"m512 358.121c0-68.38-26.629-132.667-74.98-181.02-48.353-48.352-112.64-74.98-181.02-74.98s-132.667 26.629-181.02 74.98c-48.351 48.353-74.98 112.64-74.98 181.02v15h205.016c4.085 12.323 12.371 22.642 23.657 29.305 8.558 5.052 17.953 7.453 27.236 7.453 18.406 0 36.36-9.448 46.376-26.413 1.956-3.313 3.522-6.781 4.717-10.345h204.998zm-235.548 10.093c-6.656 11.276-21.247 15.037-32.526 8.378-5.463-3.225-9.343-8.384-10.925-14.528-1.583-6.144-.679-12.535 2.547-17.998s8.385-9.343 14.528-10.925c1.976-.509 3.977-.76 5.964-.76 4.194 0 8.328 1.12 12.034 3.308 5.463 3.225 9.343 8.384 10.925 14.528 1.583 6.143.679 12.535-2.547 17.997zm31.689-25.093c-.032-.129-.057-.259-.09-.388-2.296-8.916-6.74-16.908-12.887-23.425l43.106-73.015-25.834-15.252-43.106 73.015c-8.675-2.233-17.819-2.264-26.737.032-13.903 3.581-25.58 12.362-32.879 24.726-2.674 4.53-4.636 9.344-5.882 14.307h-173.34c1.992-30.247 9.976-58.88 22.75-84.742l33.311 19.232 15-25.98-33.274-19.21c16.444-24.477 37.541-45.578 62.018-62.022l19.212 33.276 25.98-15-19.236-33.318c25.861-12.774 54.5-20.737 84.746-22.729v38.493h30v-38.493c30.246 1.992 58.885 9.955 84.746 22.729l-19.236 33.318 25.98 15 19.212-33.276c24.477 16.444 45.573 37.545 62.018 62.022l-33.274 19.21 15 25.98 33.311-19.232c12.774 25.862 20.758 54.495 22.75 84.742z"})})}),Object(R.jsx)("p",{children:t.speed})]}),Object(R.jsxs)("div",{className:"flex mt-3",children:[Object(R.jsx)("div",{className:"w-6 h-6 mr-3",children:Object(R.jsx)("svg",{version:"1.1",fill:"#E5E7EB",xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 512 512",children:Object(R.jsx)("g",{children:Object(R.jsx)("path",{d:"M461.144,60.883L260.312,0.633c-2.809-0.844-5.808-0.844-8.62,0L50.858,60.883c-6.345,1.903-10.69,7.743-10.69,14.367 v220.916c0,28.734,11.632,58.148,34.573,87.425c17.522,22.36,41.762,44.813,72.048,66.736 c50.877,36.828,100.975,59.42,103.083,60.363c1.95,0.873,4.039,1.31,6.129,1.31c2.089,0,4.179-0.436,6.129-1.31 c2.108-0.943,52.205-23.535,103.082-60.363c30.285-21.923,54.525-44.376,72.047-66.736c22.941-29.276,34.573-58.69,34.573-87.425 V75.25C471.833,68.626,467.489,62.786,461.144,60.883z M441.833,296.166c0,50.852-51.023,98.534-93.826,129.581 c-38.374,27.833-77.291,47.583-92.005,54.678c-14.714-7.095-53.632-26.845-92.006-54.678 c-42.804-31.047-93.828-78.729-93.828-129.581V86.41l185.833-55.75l185.832,55.75V296.166z"})})})}),Object(R.jsx)("p",{children:t.plating})]}),Object(R.jsxs)("div",{className:"flex mt-3",children:[Object(R.jsx)("div",{className:"w-6 h-6 mr-3",children:Object(R.jsx)("svg",{fill:"#E5E7EB",enableBackground:"new 0 0 510.192 510.192",viewBox:"0 0 510.192 510.192",xmlns:"http://www.w3.org/2000/svg",children:Object(R.jsx)("g",{children:Object(R.jsx)("path",{d:"m510.192 0-122.656 13.628-300.462 300.463-22.694-22.694 33.301-33.3-21.213-21.213-54.514 54.513c10.689 10.689 55.253 55.254 65.86 65.861l-87.814 87.814 65.12 65.12 87.813-87.814c10.633 10.632 55.212 55.211 65.861 65.86l54.513-54.514-21.213-21.213-33.3 33.301-22.694-22.693 300.464-300.463zm-467.766 445.072 22.693-22.694 22.695 22.695-22.694 22.693zm66.602-21.212-22.695-22.695 22.694-22.693 22.694 22.694zm358.881-314.976-293.022 293.022-22.693-22.694 252.835-252.835-21.213-21.213-252.835 252.835-22.694-22.693 293.021-293.023 74.927-8.325z"})})})}),Object(R.jsx)("p",{children:t.weapons})]})]},t.class+t.speed+t.manufacturer+t.maxCargo)}))})]})},ie=function(){var e=Object(i.c)((function(e){return e.user})).ships,t=Object(r.useState)(),n=Object(H.a)(t,2),c=n[0],s=n[1],o=Object(r.useState)(!1),l=Object(H.a)(o,2),u=l[0],d=l[1],j=Object(r.useState)("class"),b=Object(H.a)(j,2),x=b[0],m=b[1];return Object(r.useEffect)((function(){!function(t){if(e){var n;switch(t){case"type":n=u?Object(Z.a)(e).sort((function(e,t){return e.type<t.type?1:t.type<e.type?-1:0})):Object(Z.a)(e).sort((function(e,t){return e.type>t.type?1:t.type>e.type?-1:0}));break;case"manufacturer":n=u?Object(Z.a)(e).sort((function(e,t){return e.manufacturer>t.manufacturer?1:t.manufacturer>e.manufacturer?-1:0})):Object(Z.a)(e).sort((function(e,t){return e.manufacturer<t.manufacturer?1:t.manufacturer<e.manufacturer?-1:0}));break;case"maxCargo":n=u?Object(Z.a)(e).sort((function(e,t){return e.maxCargo>t.maxCargo?1:t.maxCargo>e.maxCargo?-1:0})):Object(Z.a)(e).sort((function(e,t){return e.maxCargo<t.maxCargo?1:t.maxCargo<e.maxCargo?-1:0}));break;case"speed":n=u?Object(Z.a)(e).sort((function(e,t){return e.speed>t.speed?1:t.speed>e.speed?-1:0})):Object(Z.a)(e).sort((function(e,t){return e.speed<t.speed?1:t.speed<e.speed?-1:0}));break;case"plating":n=u?Object(Z.a)(e).sort((function(e,t){return e.plating>t.plating?1:t.plating>e.plating?-1:0})):Object(Z.a)(e).sort((function(e,t){return e.plating<t.plating?1:t.plating<e.plating?-1:0}));break;case"weapons":n=u?Object(Z.a)(e).sort((function(e,t){return e.weapons>t.weapons?1:t.weapons>e.weapons?-1:0})):Object(Z.a)(e).sort((function(e,t){return e.weapons<t.weapons?1:t.weapons<e.weapons?-1:0}));break;default:n=u?Object(Z.a)(e).sort((function(e,t){return e.class>t.class?1:t.class>e.class?-1:0})):Object(Z.a)(e).sort((function(e,t){return e.class<t.class?1:t.class<e.class?-1:0}))}s(n)}}(x)}),[x,u,e]),Object(R.jsxs)(a.a.Fragment,{children:[Object(R.jsx)("h2",{className:"text-3xl mb-5",children:"Your Ships"}),Object(R.jsxs)("div",{className:"flex mb-5",children:[Object(R.jsx)("button",{type:"button",className:"cursor-pointer w-6 h-6",onClick:function(){return d(!u)},children:Object(R.jsxs)("svg",Object(ae.a)(Object(ae.a)({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"#E5E7EB"},u?{transform:"rotate(180) scale(-1,1)"}:{}),{},{className:"origin-center",children:[Object(R.jsx)("path",{d:"M0 0h24v24H0V0z",fill:"none"}),Object(R.jsx)("path",{d:"M3 18h6v-2H3v2zM3 6v2h18V6H3zm0 7h12v-2H3v2z"})]}))}),Object(R.jsxs)("select",{name:"sort",id:"sort",className:"appearance-none bg-gray-800 text-gray-200 cursor-pointer",onChange:function(e){return m(e.target.value)},children:[Object(R.jsx)("option",{value:"type",children:"Name"}),Object(R.jsx)("option",{value:"manufacturer",children:"Manufacturer"}),Object(R.jsx)("option",{value:"cost",children:"Cost"}),Object(R.jsx)("option",{value:"maxCargo",children:"Max Cargo"}),Object(R.jsx)("option",{value:"speed",children:"Speed"}),Object(R.jsx)("option",{value:"plating",children:"Plating"}),Object(R.jsx)("option",{value:"weapons",children:"Weapons"})]})]}),Object(R.jsx)("div",{className:"grid grid-cols-4 gap-4",children:null===c||void 0===c?void 0:c.map((function(e){return Object(R.jsx)(ce,{ship:e},e.class+e.speed+e.manufacturer+e.maxCargo)}))})]})},le=function(){return Object(R.jsxs)("div",{children:[Object(R.jsxs)("div",{className:"text-sm mb-5",children:[Object(R.jsx)(l.c,{exact:!0,to:"/ships",className:"mr-4 pb-1",activeClassName:"subMenuActive",children:"Owned"}),Object(R.jsx)(l.c,{exact:!0,to:"/ships/available",className:"mr-4 pb-1",activeClassName:"subMenuActive",children:"Purchase"})]}),Object(R.jsxs)(b.c,{children:[Object(R.jsx)(b.a,{exact:!0,path:"/ships",component:ie}),Object(R.jsx)(b.a,{path:"/ships/available",component:oe})]})]})},ue=n(17),de=n(12),je=function(e){var t=e.system,n=e.stars,c=e.planets,r=e.moons,s=e.asteroids;return Object(R.jsxs)(a.a.Fragment,{children:[Object(R.jsx)("h2",{className:"text-3xl",children:t.name}),Object(R.jsx)("ul",{className:"mt-3",children:n.map((function(e){return Object(R.jsxs)(a.a.Fragment,{children:[Object(R.jsxs)("li",{className:"py-2",children:[e.name," (",e.symbol,")"]}),Object(R.jsxs)("ul",{className:"pl-7",children:[c.map((function(e,t){return Object(R.jsxs)(a.a.Fragment,{children:[Object(R.jsxs)("li",{className:"py-2",children:[e.name," (",e.symbol,")"]}),Object(R.jsx)("ul",{className:"pl-7",children:r.map((function(e){return e.parent===t?Object(R.jsxs)("li",{className:"py-2",children:[e.moon.name," (",e.moon.symbol,")"]},e.moon.symbol):Object(R.jsx)("li",{},e.moon.symbol)}))})]},e.symbol)})),s.map((function(e){return Object(R.jsxs)("li",{className:"py-2",children:[e.name," (",e.symbol,")"]},e.symbol)}))]})]},e.symbol)}))})]})},be=function(e){var t=Object(r.useRef)(),n=Object(ue.c)(de.TextureLoader,"/images/asteroid.jpg"),c=Object(r.useState)(!1),a=Object(H.a)(c,2),s=(a[0],a[1]),o=Object(r.useState)(!1),i=Object(H.a)(o,2),l=i[0],u=i[1];return Object(R.jsxs)("mesh",Object(ae.a)(Object(ae.a)({},e),{},{ref:t,scale:[1,1,1],onClick:function(e){return u(!l)},onPointerOver:function(e){return s(!0)},onPointerOut:function(e){return s(!1)},children:[Object(R.jsx)("dodecahedronGeometry",{args:[.1,0],attach:"geometry"}),Object(R.jsx)("meshStandardMaterial",{attach:"material",map:n})]}))},xe=function(e){var t=Object(r.useRef)(),n=Object(ue.c)(de.TextureLoader,"/images/moon.jpg"),c=Object(r.useState)(!1),a=Object(H.a)(c,2),s=(a[0],a[1]),o=Object(r.useState)(!1),i=Object(H.a)(o,2),l=i[0],u=i[1];return Object(ue.b)((function(){t.current&&(t.current.rotation.y+=5e-4)})),Object(R.jsxs)("mesh",Object(ae.a)(Object(ae.a)({},e),{},{ref:t,scale:[1,1,1],onClick:function(e){return u(!l)},onPointerOver:function(e){return s(!0)},onPointerOut:function(e){return s(!1)},children:[Object(R.jsx)("sphereBufferGeometry",{args:[.1,15,15],attach:"geometry"}),Object(R.jsx)("meshStandardMaterial",{attach:"material",map:n})]}))},me=function(e){var t=Object(r.useRef)(),n=Object(ue.c)(de.TextureLoader,"/images/planet.jpg"),c=Object(r.useState)(0),a=Object(H.a)(c,2),s=a[0],o=a[1],i=Object(r.useState)(!1),l=Object(H.a)(i,2),u=(l[0],l[1]),d=Object(r.useState)(!1),j=Object(H.a)(d,2),b=j[0],x=j[1];return Object(r.useEffect)((function(){var e=Math.random()<.5?-1:1;o((Math.random()*(.01-.001)+.001)*e)}),[]),Object(ue.b)((function(){t.current&&(t.current.rotation.y+=s)})),Object(R.jsxs)("mesh",Object(ae.a)(Object(ae.a)({},e),{},{ref:t,scale:[1,1,1],rotation:[0,Math.floor(361*Math.random())+0,0],onClick:function(e){return x(!b)},onPointerOver:function(e){return u(!0)},onPointerOut:function(e){return u(!1)},children:[Object(R.jsx)("sphereBufferGeometry",{args:[.3,15,15],attach:"geometry"}),Object(R.jsx)("meshStandardMaterial",{attach:"material",map:n})]}))},he=function(e){var t=Object(r.useRef)(),n=Object(ue.c)(de.TextureLoader,"/images/sun.jpg"),c=Object(r.useState)(!1),a=Object(H.a)(c,2),s=(a[0],a[1]),o=Object(r.useState)(!1),i=Object(H.a)(o,2),l=i[0],u=i[1];return Object(ue.b)((function(){t.current&&(t.current.rotation.y+=5e-4)})),Object(R.jsxs)("mesh",Object(ae.a)(Object(ae.a)({},e),{},{ref:t,scale:[1,1,1],onClick:function(e){return u(!l)},onPointerOver:function(e){return s(!0)},onPointerOut:function(e){return s(!1)},children:[Object(R.jsx)("pointLight",{intensity:2,position:[0,0,0]}),Object(R.jsx)("sphereBufferGeometry",{args:[1,25,25],attach:"geometry"}),Object(R.jsx)("meshStandardMaterial",{attach:"material",map:n,emissiveMap:n,emissive:new de.Color(3158043),emissiveIntensity:2.6})]}))},pe=function(){var e=Object(ue.c)(de.TextureLoader,"/images/stars.jpg"),t=Object(i.c)((function(e){return e.account.token})),n=Object(r.useState)(),c=Object(H.a)(n,2),s=c[0],o=c[1],l=Object(r.useState)(),u=Object(H.a)(l,2),b=u[0],x=u[1],m=Object(r.useState)(),h=Object(H.a)(m,2),p=h[0],f=h[1],O=Object(r.useState)(),v=Object(H.a)(O,2),g=v[0],y=v[1],w=Object(r.useState)(),N=Object(H.a)(w,2),k=N[0],C=N[1];Object(r.useEffect)((function(){(function(){var e=Object(j.a)(d.a.mark((function e(){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T(t);case 2:n=e.sent.systems[0],o(n),f(Object(Z.a)(n.locations).filter((function(e){return e.type===L.Planet}))),x(Object(Z.a)(n.locations).filter((function(e){return e.type===L.GasGiant}))),y(Object(Z.a)(n.locations).filter((function(e){return e.type===L.Asteroid})));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(r.useEffect)((function(){if(s){var e=Object(Z.a)(s.locations).filter((function(e){return e.type===L.Moon})),t=[];e.map((function(e){var n=null===p||void 0===p?void 0:p.findIndex((function(t){return e.symbol.startsWith(t.symbol)}));return t.push({parent:n,moon:e}),!0})),C(t)}}),[p]);var S=function(e){var t=Object(Z.a)(k).filter((function(t){return t.parent===e.parent}));return t.findIndex((function(t){return t.moon.symbol===e.moon.symbol})),-1-.5*t.findIndex((function(t){return t.moon.symbol===e.moon.symbol}))};return Object(R.jsx)(a.a.Fragment,{children:Object(R.jsxs)("div",{className:"h-1/4",children:[Object(R.jsxs)(ue.a,{camera:{position:[4.5,0,10],fov:20},onCreated:function(t){t.scene.background=e,t.camera.lookAt(4.5,0,0)},children:[Object(R.jsx)("ambientLight",{intensity:.4}),null===b||void 0===b?void 0:b.map((function(e){return Object(R.jsx)(r.Suspense,{fallback:Object(R.jsx)("sphereBufferGeometry",{args:[2,15,15],attach:"geometry"}),children:Object(R.jsx)(he,{position:[0,0,0]})},e.symbol)})),null===p||void 0===p?void 0:p.map((function(e,t){return Object(R.jsx)(r.Suspense,{fallback:Object(R.jsx)("sphereBufferGeometry",{args:[2,15,15],attach:"geometry"}),children:Object(R.jsx)(me,{position:[t+3+t,0,0]})},e.symbol)})),null===g||void 0===g?void 0:g.map((function(e){return Object(R.jsx)(r.Suspense,{fallback:Object(R.jsx)("sphereBufferGeometry",{args:[2,15,15],attach:"geometry"}),children:Object(R.jsx)(be,{position:[p?p.length+7:0,0,0]})},e.symbol)})),null===k||void 0===k?void 0:k.map((function(e){return Object(R.jsx)(r.Suspense,{fallback:Object(R.jsx)("sphereBufferGeometry",{args:[2,15,15],attach:"geometry"}),children:Object(R.jsx)(xe,{position:[e.parent+3+e.parent,S(e),0]})},e.moon.symbol)}))]}),s&&b&&p&&k&&g&&Object(R.jsx)("div",{className:"mt-4",children:Object(R.jsx)(je,{system:s,stars:b,planets:p,moons:k,asteroids:g})})]})})},fe=function(e){var t=e.handleClose,n=e.show,c=e.loan,s=Object(b.f)(),o=Object(i.b)(),l=Object(i.c)((function(e){return e.account})),u=Object(r.useState)(!1),x=Object(H.a)(u,2),m=x[0],h=x[1],f=n?"fixed w-full h-full top-0 left-0 flex items-center justify-center text-gray-900":"hidden";Object(r.useEffect)((function(){h(!1)}),[c]);var O=function(){var e=Object(j.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),e.next=3,A(l.username,l.token,z.Startup);case 3:t=e.sent,o(p(t)),s.push("/loans");case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(R.jsxs)("div",{className:f,children:[Object(R.jsx)("div",{className:"modal-overlay absolute w-full h-full bg-gray-900 opacity-50",onClick:t}),Object(R.jsx)("div",{className:"modal-container bg-white w-11/12 md:max-w-md mx-auto rounded shadow-lg z-50 overflow-y-auto",children:Object(R.jsxs)("div",{className:"modal-content py-4 text-left px-6",children:[Object(R.jsx)("h3",{className:"text-xl font-semibold mb-6",children:"Request the following loan"}),Object(R.jsxs)("div",{className:"mb-4",children:[Object(R.jsx)("p",{className:"text-sm text-gray-500",children:"Loan amount"}),Object(R.jsxs)("p",{children:[null===c||void 0===c?void 0:c.amount.toLocaleString()," credits"]})]}),Object(R.jsxs)("div",{className:"mb-4",children:[Object(R.jsx)("p",{className:"text-sm text-gray-500",children:"Repayment Due"}),Object(R.jsxs)("p",{children:[null===c||void 0===c?void 0:c.termInDays," day",c&&(null===c||void 0===c?void 0:c.termInDays)>1?"s":""]})]}),Object(R.jsxs)("div",{className:"mb-4",children:[Object(R.jsx)("p",{className:"text-sm text-gray-500",children:"Repayment Amount"}),Object(R.jsxs)("p",{children:[c&&(c.amount+c.amount*(c.rate/100)).toLocaleString()," "," credits"]})]}),Object(R.jsx)("div",{className:"flex justify-end pt-2",children:m?Object(R.jsx)("p",{className:"text-sm text-yellow-500 italic",children:"Please Wait..."}):Object(R.jsxs)(a.a.Fragment,{children:[Object(R.jsx)("button",{type:"button",className:"px-4 py-2 text-red-500 text-sm rounded mr-4 hover:text-red-400",onClick:t,children:"Close"}),Object(R.jsx)("button",{type:"button",className:"w-1/4 flex items-center justify-center px-4 py-2 text-white text-sm bg-green-500 rounded hover:bg-green-400",disabled:m,onClick:O,children:"Get Loan"})]})})]})})]})},Oe=function(){var e=Object(i.c)((function(e){return e.account})),t=Object(r.useState)(),n=Object(H.a)(t,2),c=n[0],s=n[1],o=Object(r.useState)(!1),l=Object(H.a)(o,2),u=l[0],b=l[1],x=Object(r.useState)(),m=Object(H.a)(x,2),h=m[0],p=m[1];return Object(r.useEffect)((function(){(function(){var t=Object(j.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=s,t.next=3,M(e.token);case 3:t.t1=t.sent.loans,(0,t.t0)(t.t1);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[]),Object(R.jsxs)(a.a.Fragment,{children:[Object(R.jsx)(fe,{show:u,loan:h,handleClose:function(){b(!1),p(void 0)}}),Object(R.jsx)("h2",{className:"text-3xl mb-5",children:"Available Loans"}),Object(R.jsx)("div",{className:"grid grid-cols-4 gap-4",children:null===c||void 0===c?void 0:c.map((function(e){return Object(R.jsxs)("button",{type:"button",className:"p-3 bg-gray-900 border border-gray-700 rounded text-left hover:border-yellow-900 hover:shadow-xl",onClick:function(){b(!0),p(e)},children:[Object(R.jsxs)("div",{className:"flex justify-between items-start",children:[Object(R.jsxs)("div",{className:"flex items-center",children:[Object(R.jsx)("div",{className:"w-6 h-6 mr-2",children:Object(R.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(R.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.1,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),Object(R.jsx)("h3",{className:"text-lg",children:e.amount.toLocaleString()})]}),Object(R.jsx)("div",{children:e.collateralRequired&&Object(R.jsx)("p",{className:"text-red-400",children:"Collateral Required"})})]}),Object(R.jsx)("p",{className:"text-xs text-gray-400",children:e.type}),Object(R.jsxs)("div",{className:"mt-5",children:[Object(R.jsxs)("div",{className:"flex mt-3",children:[Object(R.jsx)("div",{className:"w-6 h-6 mr-3",title:"Term",children:Object(R.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:Object(R.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),Object(R.jsx)("p",{children:e.termInDays})]}),Object(R.jsxs)("div",{className:"flex mt-3",children:[Object(R.jsx)("p",{className:"text-xl text-center w-6 h-6 mr-3",title:"Origination fee",children:"%"}),Object(R.jsxs)("p",{children:[Object(R.jsxs)("span",{children:[e.rate," "]}),Object(R.jsxs)("span",{className:"text-gray-400 text-sm",children:["(",e.amount*(e.rate/100)," ","credits)"]})]})]}),Object(R.jsxs)("p",{className:"mt-3 pt-3 text-sm border-t border-gray-700",children:["Total repayment cost:"," ",(e.amount+e.amount*(e.rate/100)).toLocaleString()," ","credits"]})]})]},e.amount+e.type+e.rate)}))})]})},ve=function(){var e=Object(i.c)((function(e){return e.user})).loans;return Object(R.jsxs)(a.a.Fragment,{children:[Object(R.jsx)("h2",{className:"text-3xl mb-5",children:"Your Loans"}),Object(R.jsx)("div",{className:"grid grid-cols-4 gap-4",children:e.map((function(e){return Object(R.jsxs)("button",{type:"button",className:"p-3 bg-gray-900 border border-gray-700 rounded text-left hover:border-yellow-900 hover:shadow-xl",children:[Object(R.jsxs)("div",{className:"mb-3",children:[Object(R.jsx)("p",{className:"text-xs text-gray-400",children:"Repayment Amount"}),Object(R.jsxs)("p",{children:[e.repaymentAmount.toLocaleString()," credits"]})]}),Object(R.jsxs)("div",{children:[Object(R.jsx)("p",{className:"text-xs text-gray-400",children:"Due in"}),Object(R.jsx)("p",{children:Object(K.a)(new Date(e.due))})]})]},e.id)}))})]})},ge=function(){return Object(R.jsxs)("div",{children:[Object(R.jsxs)("div",{className:"text-sm mb-5",children:[Object(R.jsx)(l.c,{exact:!0,to:"/loans",className:"mr-4 pb-1",activeClassName:"subMenuActive",children:"Your Loans"}),Object(R.jsx)(l.c,{exact:!0,to:"/loans/available",className:"mr-4 pb-1",activeClassName:"subMenuActive",children:"Get a Loan"})]}),Object(R.jsxs)(b.c,{children:[Object(R.jsx)(b.a,{exact:!0,path:"/loans",component:ve}),Object(R.jsx)(b.a,{path:"/loans/available",component:Oe})]})]})};var ye=function(){var e=Object(i.c)((function(e){return e})),t=Object(i.b)(),n=localStorage.getItem("apiKey");return Object(r.useEffect)((function(){if(void 0!==n&&null!==n){var e=JSON.parse(n);t(f(n));var c=function(){var n=Object(j.a)(d.a.mark((function n(){var c;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,B(e.username,e.token);case 2:c=n.sent,t(p(c));case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),r=localStorage.getItem("flightPlans"),a=null!==r?JSON.parse(r):null;a&&a.length>0&&a.map(function(){var n=Object(j.a)(d.a.mark((function n(c){var r,a;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,D(e.token,e.username,c.id);case 2:r=n.sent,null===(a=r.flightPlan).terminatedAt&&t(g(a));case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()),c()}}),[]),Object(R.jsx)(a.a.Fragment,{children:void 0===n||null===n?Object(R.jsx)(Y,{}):Object(R.jsxs)(a.a.Fragment,{children:[Object(R.jsx)(J,{}),Object(R.jsx)("div",{className:"bg-gray-800 pt-4 flex-grow text-gray-200",children:Object(R.jsx)("div",{className:"container h-full mx-auto",children:0!==e.account.token.length&&Object(R.jsxs)(b.c,{children:[Object(R.jsx)(b.a,{exact:!0,path:"/",component:re}),Object(R.jsx)(b.a,{path:"/ships",component:le}),Object(R.jsx)(b.a,{path:"/loans",component:ge}),Object(R.jsx)(r.Suspense,{fallback:Object(R.jsx)("div",{}),children:Object(R.jsx)(b.a,{path:"/systems",component:pe})})]})})})]})})};o.a.render(Object(R.jsx)(a.a.StrictMode,{children:Object(R.jsx)(i.a,{store:N,children:Object(R.jsx)(l.a,{basename:"/Vocivos",children:Object(R.jsx)(ye,{})})})}),document.getElementById("root"))}},[[67,1,2]]]);
//# sourceMappingURL=main.b150a17c.chunk.js.map